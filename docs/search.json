[{"path":"https://github.com/fasrc/CRE/articles/CRE.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"CRE","text":"install CRE package properly, first must install XBART XBCF packages:","code":""},{"path":"https://github.com/fasrc/CRE/articles/CRE.html","id":"how-to-install-the-xbart-package-linux","dir":"Articles","previous_headings":"Installation","what":"How to install the XBART package (linux):","title":"CRE","text":"terminal, install necessary packages via homebrew: Find path LDFLAGS running brew info llvm (see example): compilers find llvm may need set: Run following two commands take note output: Run following terminal user directory: Copy following text editor, replacing /path//_ paths found : Example Makevars file: R, run:","code":"~ $ brew install gfortran ~ $ brew install llvm boost libomp ~ $ export LDFLAGS=\"-L/usr/local/opt/llvm/lib\" ~ $ which clang ~ $ which clang++ ~ $ mkdir ~/.R # if it doesn’t already exist ~ $ cd .R .R $ touch Makevars .R $ open -e Makevars CC=/path/to/clang CXX=/path/to/clang++ CXX11=/path/to/clang++ CXX14=/path/to/clang++ CXX17=/path/to/clang++ CXX1X=/path/to/clang++ LDFLAGS=path/to/LDFLAGS -o task -fopenmp CC=/usr/local/opt/llvm/bin/clang CXX=/usr/local/opt/llvm/bin/clang++ CXX11=/usr/local/opt/llvm/bin/clang++  CXX14=/usr/local/opt/llvm/bin/clang++  CXX17=/usr/local/opt/llvm/bin/clang++  CXX1X=/usr/local/opt/llvm/bin/clang++  LDFLAGS=-L/usr/local/opt/llvm/lib -o task -fopenmp library(\"devtools\") install_github(\"JingyuHe/XBART\")"},{"path":"https://github.com/fasrc/CRE/articles/CRE.html","id":"how-to-install-the-xbcf-package","dir":"Articles","previous_headings":"Installation","what":"How to install the XBCF package:","title":"CRE","text":"R, run:","code":"library(devtools) install_github(\"socket778/XBCF\")"},{"path":"https://github.com/fasrc/CRE/articles/CRE.html","id":"install-the-cre-package-from-github","dir":"Articles","previous_headings":"Installation","what":"Install the CRE package from GitHub:","title":"CRE","text":"R, run:","code":"library(\"devtools\") install_github(\"fasrc/CRE\") library(CRE)"},{"path":[]},{"path":"https://github.com/fasrc/CRE/articles/CRE.html","id":"users-need-to-call-only-one-function-in-the-cre-package-to-conduct-subgroup-analysis-cre-","dir":"Articles","previous_headings":"Usage","what":"Users need to call only one function in the CRE package to conduct subgroup analysis: cre().","title":"CRE","text":"cre() inputs asked user follows: y observed response vector z treatment vector X features matrix ratio_dis ratio data discovery subsample ite_method_dis method estimate discovery sample ITE (1) include_ps_dis whether include propensity score estimate discovery ITE estimation (2) ps_method_dis estimation model propensity score discovery subsample or_method_dis or_method_dis estimation model outcome regressions estimate_ite_aipw discovery subsample ite_method_inf method estimate inference sample ITE (1) include_ps_inf whether include propensity score estimate inference ITE estimation (2) ps_method_inf estimation model propensity score inference subsample or_method_inf or_method_dis estimation model outcome regressions estimate_ite_aipw inference subsample ntrees_rf number decision trees random forests ntrees_gbm number decision trees gradient boosting min_nodes minimum size trees’ terminal nodes max_nodes maximum size trees’ terminal nodes t common support used generating causal rules matrix q selection threshold used selecting causal rules rules_method method selecting causal rules binary outcomes, either “conservative”, “anticonservative”, NA (continuous) include_offset whether include offset estimating ITE, poisson offset_name name offset, included cate_method method estimate CATE values cate_SL_library library used cate_method set DRLearner filter_cate whether filter rules p-value <= 0.05","code":""},{"path":"https://github.com/fasrc/CRE/articles/CRE.html","id":"a-note-on-the-parameters","dir":"Articles","previous_headings":"Usage","what":"A note on the parameters","title":"CRE","text":"(1) Options ITE estimation follows: Inverse Propensity Weighting (ipw) Stabilized Inverse Propensity Weighting (sipw) Augmented Inverse Propensity Weighting (aipw) Outcome Regression () Bayesian Additive Regression Trees (bart) Accelerated Bayesian Additive Regression Trees (xbart) Bayesian Causal Forests (bcf) Accelerated Bayesian Causal Forests (xbcf) Causal Forests (cf) Poisson Regression (poisson) original paper Lee et al. (2020), several methods tested imputation ITE continuous outcomes consequent ability correctly discover causal rules precisely estimate conditional effects within rules. refer paper details best performing techniques. data continuous outcomes, rule thumb, suggest usage bcf, shown consistent performance across different simulated scenarios. data binary outcomes, suggest using , bart, xbart cf. ipw, sipw, bcf, xbcf ITE estimation methods compatible binary outcomes. (2) include_ps_dis include_ps_inf arguments considered ITE method selected bart, xbart, cf.","code":""},{"path":"https://github.com/fasrc/CRE/articles/CRE.html","id":"cre-example","dir":"Articles","previous_headings":"Usage","what":"CRE Example:","title":"CRE","text":"","code":"library(CRE) # expected output: matrix of CATE estimates cre_results <- cre(y = abs(dataset_cont[[\"y\"]]), z = dataset_cont[[\"z\"]],                    X = as.data.frame(dataset_cont[[\"X\"]]), ratio_dis 0.25,                    ite_method_dis = \"bcf\", include_ps_dis = NA,                    ps_method_dis = \"SL.xgboost\", or_method_dis = NA,                    ite_method_inf = \"bcf, include_ps_inf = NA,                    ps_method_inf = \"SL.xgboost\", or_method_dis = NA,                    ntrees_rf = 100, ntrees_gbm = 50, min_nodes = 20,                    max_nodes = 5, t = 0.025, q = 0.8, rules_method = NA,                    include_offset = FALSE, offset_name = NA,                    cate_method = \"cf-means\", cate_SL_library = NA,                    filter_cate = FALSE)"},{"path":[]},{"path":"https://github.com/fasrc/CRE/articles/CRE.html","id":"running-examples","dir":"Articles","previous_headings":"Testing the Package, Examples, and Discussion","what":"Running Examples","title":"CRE","text":"can use causal inference studies data test package. database needs following attributes: y: Output vector z: Treatment vector X: Covariate matrix CRE package can generate synthetic data can used test different features package. current implementation, code can generate data continuous binary outcomes. following, present reproducible examples can copy build upon.","code":""},{"path":"https://github.com/fasrc/CRE/articles/CRE.html","id":"generating-synthetic-data-with-continuous-outcomes","dir":"Articles","previous_headings":"Testing the Package, Examples, and Discussion","what":"Generating Synthetic Data with Continuous Outcomes","title":"CRE","text":"","code":"library(\"CRE\") dataset_cont <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                      effect_size = 0.5, binary = FALSE, seed = 2021)  str(dataset_cont) ## List of 3 # $ y: num [1:1000] 2.72 2.79 3.2 2.53 2.49 ... # $ z: int [1:1000] 0 0 1 1 1 1 0 1 0 0 ... # $ X: num [1:1000, 1:10] 1 1 1 0 0 0 0 1 1 0 ... #  ..- attr(*, \"dimnames\")=List of 2 #  .. ..$ : NULL #  .. ..$ : chr [1:10] \"X1\" \"X2\" \"X3\" \"X4\" ..."},{"path":"https://github.com/fasrc/CRE/articles/CRE.html","id":"generating-synthetic-data-with-binary-outcomes","dir":"Articles","previous_headings":"Testing the Package, Examples, and Discussion","what":"Generating Synthetic Data with Binary Outcomes","title":"CRE","text":"","code":"library(\"CRE\") dataset_binary <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                        effect_size = 0.5, binary = TRUE, seed = 2021)  str(dataset_binary) ## List of 3 # $ y: num [1:1000] 1 0.5 0 0 1.5 1 1 1 -0.5 0 ... # $ z: int [1:1000] 0 1 0 0 1 0 0 0 1 0 ... # $ X: num [1:1000, 1:10] 1 1 1 0 0 0 0 1 1 0 ... #  ..- attr(*, \"dimnames\")=List of 2 #  .. ..$ : NULL #  .. ..$ : chr [1:10] \"X1\" \"X2\" \"X3\" \"X4\" ..."},{"path":"https://github.com/fasrc/CRE/articles/CRE.html","id":"running-the-cre-on-synthetic-data-with-continuous-outcomes","dir":"Articles","previous_headings":"Testing the Package, Examples, and Discussion","what":"Running the CRE on Synthetic Data with Continuous Outcomes","title":"CRE","text":"following example, first generate 1000 synthetic data samples, feed cre() function generate select causal rules CATE estimates. can read different arguments documentation (?cre). summary: want run code delegating 25% data discovery subsample 75% inference (ratio_dis <- 0.25) discovery subsample, want estimate Individual Treatment effect using XBART method, including estimated propensity score covariate (ite_method_dis <- \"xbart\" include_ps_dis <- TRUE) inference subsample, want estimate Individual Treatment effect using XBCF method, automatically includes estimated propensity score covariate (ite_method_inf <- \"xbcf\" include_ps_inf <- NA) causal rule generation, want generate 100 decision trees minimum node size 20 maximum node size 5 (ntrees <- 100, min_nodes <- 20, max_nodes <- 5) trimming causal rules, want use common support value 0.025 (t <- 0.025) selecting important causal rules, want use selection threshold 0.8 (q <- 0.08) Since ’re using binary outcomes first example, specify rules method (rules_method <- NA) Since ’re using Poisson regression, specify offset (include_offset <- FALSE, offset_name = NA)","code":"# Load package library(\"CRE\") # Generate synthetic data with continuous outcomes dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10                                 effect_size = 0.5, binary = FALSE, seed = 2021)   # Set parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- dataset[[\"X\"]] ratio_dis <- 0.25 ite_method_dis <- \"bcf\" include_ps_dis <- \"TRUE\" ps_method_dis <- \"SL.xgboost\" or_method_dis <- NA ite_method_inf <- \"bcf\" include_ps_inf <- NA ps_method_inf <- \"SL.xgboost\" or_method_inf <- NA ntrees <- 100 min_nodes <- 20 max_nodes <- 5 t <- 0.025 q <- 0.8 rules_method <- NA include_offset <- FALSE offset_name <- NA cate_method <- \"cf-means\" cate_SL_library <- NA filter_cate <- FALSE  # Run CRE method cre_results <- cre(y, z, X, ratio_dis, ite_method_dis, include_ps_dis,                    ps_method_dis, or_method_dis, ite_method_inf, include_ps_inf,                     ps_method_inf, or_method_inf, ntrees, min_nodes, max_nodes,                     t, q, rules_method, include_offset, offset_name,                    cate_method, cate_SL_library, filter_cate)"},{"path":"https://github.com/fasrc/CRE/articles/CRE.html","id":"running-the-cre-on-synthetic-data-with-binary-outcomes","dir":"Articles","previous_headings":"Testing the Package, Examples, and Discussion","what":"Running the CRE on Synthetic Data with Binary Outcomes","title":"CRE","text":"run CRE method synthetic data binary outcomes, set binary argument generate_cre_dataset TRUE, specify rules_method parameter. addition, make sure ITE estimation methods selected compatible binary outcomes (see ).","code":""},{"path":"https://github.com/fasrc/CRE/articles/Contribution.html","id":"environment-setup","dir":"Articles","previous_headings":"","what":"Environment Setup","title":"Contribution","text":"Please follow steps get copy CRE Github account. Navigate CRE Github repository, top right corner, click Fork button. add clone project Github account. Open terminal (Gitbash Windows, Anaconda prompt, …) run following command (brackets included): already SSH key, need generate one. Read . Now, can modify codebase track modification. good idea create new branch work codebase. Read following instructions git branching.","code":"git clone git@github.com:[your user name]/CRE.git"},{"path":"https://github.com/fasrc/CRE/articles/Contribution.html","id":"git-branching-model","dir":"Articles","previous_headings":"","what":"Git Branching Model","title":"Contribution","text":"Although, personal repository, can pick branch name, however, order keep consistency also understand working , following convention strongly recommended. project, follow convention proposed Vincent Driessen successful Git branching model post.","code":""},{"path":"https://github.com/fasrc/CRE/articles/Contribution.html","id":"where-to-submit-pull-requests","dir":"Articles","previous_headings":"","what":"Where to submit pull requests?","title":"Contribution","text":"pull requests submitted base repository: fasrc/CRE base: develop branch.","code":""},{"path":"https://github.com/fasrc/CRE/articles/Contribution.html","id":"pull-request-checklist","dir":"Articles","previous_headings":"","what":"Pull request checklist","title":"Contribution","text":"Please run devtools::document(), devtools::load_all() final modifications. Make sure modified code passes checks tests (can run devtools::check() RStudio) PR pass CI reviews can merge . Add line(s) modification NEWS.md file. adding new features, please make sure appropriate documentation added updated. Please clean white spaces. Read .","code":""},{"path":"https://github.com/fasrc/CRE/articles/Contribution.html","id":"reporting-bugs","dir":"Articles","previous_headings":"","what":"Reporting bugs","title":"Contribution","text":"Please report potential bugs creating new issue sending us email. Please include following information bug report: brief description , expected happen, happened. OS using whether using personal computer HPC cluster. version package installed.","code":""},{"path":"https://github.com/fasrc/CRE/articles/Contribution.html","id":"style-guide","dir":"Articles","previous_headings":"","what":"Style Guide","title":"Contribution","text":"project, follow tidyverse style guide.","code":""},{"path":[]},{"path":"https://github.com/fasrc/CRE/articles/Contribution.html","id":"names","dir":"Articles","previous_headings":"Style Guide > Summary","what":"Names","title":"Contribution","text":"File names snake_case ends .R (e.g., create_matching.R) variable names small letter separate _ need (e.g., delta_n) Function names follow snake_case style (e.g., generate_data) Function names follow verb+output convention (e.g., compute_resid)","code":""},{"path":"https://github.com/fasrc/CRE/articles/Contribution.html","id":"spaces-and-indentation","dir":"Articles","previous_headings":"Style Guide > Summary","what":"Spaces and Indentation","title":"Contribution","text":"Indentations two spaces (use tab) Place space around binary operators (e.g., x + y) Place space comma Place space # commenting avoid multiple ### put space opening closing parenthesis Place space () used , , .","code":"#Acceptable: z <- x + y #Not recommended: z<-x+y # (no space) z<- x+y z<-x +y #Acceptable: a <- matrix(c(1:100), nrow = 5) #Not recommended: a <- matrix(c(1:100),nrow = 5) # (no space after comma) a <- matrix( c(1:100), nrow = 5 ) # (extra space after and before parentheses) a<-matrix(c(1:100), nrow = 5) # (no space around unary operator <- ) #Acceptable: # This is a comment #Not recommended: #This is a comment #    This is a comment (more than one space after #) ## This is a comment (multiple #) ###    This is a comment (multiple # and more than one space) #Acceptable: x <- (z + y) #Not recommended: x <- ( z + y ) # (unnecessary space) x <- (z + y ) x <- ( z + y) #Acceptible if (x > 2) {   print(x) } # Not recommended if(x > 2){   print(x) }"},{"path":"https://github.com/fasrc/CRE/articles/Contribution.html","id":"other-notes","dir":"Articles","previous_headings":"Style Guide > Summary","what":"Other notes","title":"Contribution","text":"Maximum line length 80 character Use explicit returns Use explicit tags documentation (e.g., @title, @description, …)","code":""},{"path":"https://github.com/fasrc/CRE/articles/Testing-the-Package.html","id":"getting-the-code","dir":"Articles","previous_headings":"","what":"Getting the code","title":"Testing the CRE Package","text":"test package, please install package system (R (>= 3.5.0)). can install package following one approaches: Directly GitHub CRAN (recommended) Source Forked Repository (recommended)","code":""},{"path":"https://github.com/fasrc/CRE/articles/Testing-the-Package.html","id":"installing-the-package-directly-from-github","dir":"Articles","previous_headings":"Getting the code","what":"Installing the package directly from Github","title":"Testing the CRE Package","text":"project, follow successful Git Branching Model. result, develop branch updated branch developers. Use devtools::install_github install package. specify ref, install master (main) branch. Try ?CRE. open package description page help tab (assuming using RStudio).","code":"library(devtools) try(detach(\"package:CRE\", unload = TRUE), silent = TRUE) # if already you have the package, detach and unload it, to have a new install.  install_github(\"NSAPH-Software/CRE\", ref=\"develop\") library(CRE)"},{"path":"https://github.com/fasrc/CRE/articles/Testing-the-Package.html","id":"installing-the-package-from-cran","dir":"Articles","previous_headings":"Getting the code","what":"Installing the package from CRAN","title":"Testing the CRE Package","text":"Installing package CRAN developing purposes recommended. probably, version CRAN latest version. [Complete section submitting package CRAN]","code":""},{"path":"https://github.com/fasrc/CRE/articles/Testing-the-Package.html","id":"installing-the-package-from-the-source","dir":"Articles","previous_headings":"Getting the code","what":"Installing the package from the source","title":"Testing the CRE Package","text":"order install package source, need download source code computer install source. steps: Go package Github repository drop-menu change branch develop. click Code tab click Download Zip tab. Open one files using RStudio, change project directory project directory (Session > Set Working Directory > Project Directory). Load devtools library load CRE.","code":"library(devtools) load_all() ?CRE"},{"path":"https://github.com/fasrc/CRE/articles/Testing-the-Package.html","id":"forking-the-package","dir":"Articles","previous_headings":"Getting the code","what":"Forking the package","title":"Testing the CRE Package","text":"Forking package Github account best option planning installing, testing, modifying, contributing project. Go package Github repository click Fork button top right corner. forking package, Open terminal (Gitbash Windows, Anaconda prompt, …) run following command (brackets included): Now, can modify codebase track modification. Navigate package folder Install package following Installing package source steps. good idea create new branch work codebase. Read successful Git Branching Model branching convention.","code":"git clone git@github.com:[your user name]/CRE.git"},{"path":"https://github.com/fasrc/CRE/articles/Testing-the-Package.html","id":"testing-the-package","dir":"Articles","previous_headings":"","what":"Testing the Package","title":"Testing the CRE Package","text":"Run following command test package.","code":"library(CRE)  # Generate sample data set.seed(2021) dataset_cont <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                      effect_size = 2, binary = FALSE) y <- dataset_cont[[\"y\"]] z <- dataset_cont[[\"z\"]] X <- as.data.frame(dataset_cont[[\"X\"]]) X_names <- names(as.data.frame(X))   # Run parameters method_params_1 <- list(ratio_dis = 0.25,                        rules_method = NA,                        include_offset = FALSE,                        offset_name = NA,                        filter_cate = FALSE,                        ite_method_dis = \"poisson\",                        include_ps_dis = NA,                         ps_method_dis = \"SL.xgboost\",                        ite_method_inf = \"poisson\",                        include_ps_inf = NA,                         ps_method_inf = \"SL.xgboost\",                        oreg_method_inf = NA,                         cate_method = \"poisson\",                         cate_SL_library = NA)  hyper_params_1 <- list(ntrees_rf = 100,                        ntrees_gbm = 50,                        min_nodes = 20,                        max_nodes = 5,                        t = 0.025,                        q = 0.8)  # Poisson CATE estimation with Poisson ITE estimation print(\"Testing Poisson CATE estimation with Poisson ITE estimation\") cre_results_1 <- cre(y = abs(y), z, X, method_params_1, hyper_params_1)  cre_results_1[[\"CATE_results\"]][,1] cre_results_1[[\"CATE_results\"]][,1] # DRLearner CATE estimation with AIPW ITE estimation  method_params_2 <- list(ratio_dis = 0.25,                         rules_method = NA,                         include_offset = FALSE,                         offset_name = NA,                         filter_cate = FALSE,                         ite_method_dis = \"aipw\",                         include_ps_dis = NA,                          ps_method_dis = \"SL.xgboost\",                         oreg_method_dis = \"SL.xgboost\",                         ite_method_inf = \"aipw\",                         include_ps_inf = NA,                          ps_method_inf = \"SL.xgboost\",                         oreg_method_inf = \"SL.xgboost\",                          cate_method = \"DRLearner\",                          cate_SL_library =\"SL.xgboost\")  hyper_params_2 <- list(ntrees_rf = 100,                        ntrees_gbm = 50,                        min_nodes = 20,                        max_nodes = 5,                        t = 0.025,                        q = 0.8)  print(\"Testing DRLearner CATE estimation with AIPW ITE estimation\") cre_results_2 <- cre(y, z, X, method_params_2, hyper_params_2)  cre_results_2[[\"CATE_results\"]][,1] cre_results_2[[\"CATE_results\"]][,1] # CF-means CATE estimation with BCF ITE estimation print(\"Testing CF-means CATE estimation with BCF ITE estimation\") cre_results_3 <- cre(y, z, X, ratio_dis, ite_method_dis = \"bcf\",                      include_ps_dis = NA, ps_method_dis = \"SL.xgboost\",                      or_method_dis = NA, ite_method_inf = \"bcf\",                      include_ps_inf = NA, ps_method_inf = \"SL.xgboost\",                      or_method_inf = NA, ntrees_rf, ntrees_gbm, min_nodes,                      max_nodes, t, q, rules_method, include_offset, offset_name,                      cate_method = \"cf-means\", cate_SL_library = NA)  cre_results_3[[\"CATE_results\"]][,1] cre_results_3[[\"CATE_results\"]][,1] plot(cre_results_3) cre_results_4 <- cre(y, z, X, ratio_dis, ite_method_dis = \"bart\",                      include_ps_dis = TRUE, ps_method_dis = \"SL.xgboost\",                      or_method_dis = NA, ite_method_inf = \"bart\",                      include_ps_inf = TRUE, ps_method_inf = \"SL.xgboost\",                      or_method_inf = NA, ntrees_rf, ntrees_gbm, min_nodes,                      max_nodes, t, q, rules_method, include_offset,                      offset_name, cate_method = \"linreg\", cate_SL_library = NA)  cre_results_4[[\"CATE_results\"]][,1] cre_results_4[[\"CATE_results\"]][,1]"},{"path":"https://github.com/fasrc/CRE/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Kwonsang Lee. Author. Falco Joannes Bargagli Stoffi. Author. Daniela Maria Garcia. Author. Naeem Khoshnevis. Author, maintainer.            FASRC","code":""},{"path":"https://github.com/fasrc/CRE/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lee K, Bargagli Stoffi F, Garcia D, Khoshnevis N (2022). CRE: Interpretable Subgroups Identification Ensemble Learning Causal Rules. R package version 0.0.1.9000, https://github.com/fasrc/CRE.","code":"@Manual{,   title = {CRE: Interpretable Subgroups Identification through Ensemble Learning of Causal Rules},   author = {Kwonsang Lee and Falco Joannes {Bargagli Stoffi} and Daniela Maria Garcia and Naeem Khoshnevis},   year = {2022},   note = {R package version 0.0.1.9000},   url = {https://github.com/fasrc/CRE}, }"},{"path":[]},{"path":"https://github.com/fasrc/CRE/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Interpretable Subgroups Identification through Ensemble Learning of Causal Rules","text":"Causal subgroup identification powerful statistical tool determining vulnerabilities population respect particular treatment. causal machine learning provides efficient accurate tool data-driven subgroup identification, software packages proving essential means easily disseminate reproduce algorithms broadly. CRE Package, written R available GitHub, implements recently developed Causal Rule Ensemble (CRE) algorithm, flexible precise method denovo subgroup discovery. CRE approach focuses identifying drivers treatment heterogeneity observational randomized studies presence intervention treatment.","code":""},{"path":"https://github.com/fasrc/CRE/index.html","id":"package-details","dir":"","previous_headings":"","what":"Package Details","title":"Interpretable Subgroups Identification through Ensemble Learning of Causal Rules","text":"Package centered one R function, cre(), conducts entirety CRE algorithm given dataset series input parameters user. cre() function calls number helper functions conduct discovery inference subsample analysis. example, estimation Individual Treatment Effects, users can select particular method large list methodologies, vary respect speed precision. parameter selections determine helper functions cre() calls. CRE method splits inputted data discovery inference subsamples. discovery subsample, generates filters causal rules explain heterogeneity treatment effects. applies rules inference subsample estimates Conditional Average Treatment Effect (CATE) subgroup. final output cre() list selected causal rules identify subgroups higher heterogeneity effects matrix estimated CATEs rule, highly accessible interpretable. Note: sensitivity analysis unmeasured confounding also implemented later version.","code":""},{"path":"https://github.com/fasrc/CRE/index.html","id":"applications","dir":"","previous_headings":"","what":"Applications","title":"Interpretable Subgroups Identification through Ensemble Learning of Causal Rules","text":"package, user can apply method variety new datasets. applications CRE method R package vast, notable potential impact field public health. intend apply method dataset linking air pollution (PM2.5) data Medicare mortality data across United States. empirical goal identify vulnerable communities, inform policymakers mitigate negative health economic effects subgroups reduce inequality.","code":""},{"path":"https://github.com/fasrc/CRE/reference/CRE-package.html","id":null,"dir":"Reference","previous_headings":"","what":"The 'CRE' package. — CRE-package","title":"The 'CRE' package. — CRE-package","text":"Provides interpretable identification subgroups heterogeneous causal effect. heterogeneous subgroups discovered ensemble learning causal rules. Causal rules highly interpretable -statement recursively partition features space heterogeneous subgroups. small number significant causal rules selected Stability Selection control family-wise error rate finite sample setting. proposes various estimation methods conditional causal effects discovered causal rule.  highly flexible multiple causal estimands imputation methods implemented.","code":""},{"path":"https://github.com/fasrc/CRE/reference/analyze_sensitivity.html","id":null,"dir":"Reference","previous_headings":"","what":"Sensitivity Analysis — analyze_sensitivity","title":"Sensitivity Analysis — analyze_sensitivity","text":"Method analyzing sensitivity estimates causal rule-specific treatment effects","code":""},{"path":"https://github.com/fasrc/CRE/reference/analyze_sensitivity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sensitivity Analysis — analyze_sensitivity","text":"","code":"analyze_sensitivity(ite_std, rules_matrix_std)"},{"path":"https://github.com/fasrc/CRE/reference/analyze_sensitivity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sensitivity Analysis — analyze_sensitivity","text":"ite_std standardized ITE rules_matrix_std standardized causal rules matrix","code":""},{"path":"https://github.com/fasrc/CRE/reference/analyze_sensitivity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sensitivity Analysis — analyze_sensitivity","text":"list containing results sensitivity analysis","code":""},{"path":"https://github.com/fasrc/CRE/reference/autoplot.cre.html","id":null,"dir":"Reference","previous_headings":"","what":"A helper function for cre object — autoplot.cre","title":"A helper function for cre object — autoplot.cre","text":"helper function plot cre object using ggplot2 package.","code":""},{"path":"https://github.com/fasrc/CRE/reference/autoplot.cre.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A helper function for cre object — autoplot.cre","text":"","code":"# S3 method for cre autoplot(object, ...)"},{"path":"https://github.com/fasrc/CRE/reference/autoplot.cre.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A helper function for cre object — autoplot.cre","text":"object cre object. ... Additional arguments passed customize plot.","code":""},{"path":"https://github.com/fasrc/CRE/reference/autoplot.cre.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A helper function for cre object — autoplot.cre","text":"Returns ggplot object.","code":""},{"path":"https://github.com/fasrc/CRE/reference/check_input.html","id":null,"dir":"Reference","previous_headings":"","what":"Check input parameters — check_input","title":"Check input parameters — check_input","text":"Checks input parameters cre function.","code":""},{"path":"https://github.com/fasrc/CRE/reference/check_input.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check input parameters — check_input","text":"","code":"check_input(y, z, X, params)"},{"path":"https://github.com/fasrc/CRE/reference/check_input.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check input parameters — check_input","text":"y observed response vector. z treatment vector. X covariate matrix. params list parameters required run function.","code":""},{"path":"https://github.com/fasrc/CRE/reference/check_input.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check input parameters — check_input","text":"list params might changed checks.","code":""},{"path":"https://github.com/fasrc/CRE/reference/check_input_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Input Data — check_input_data","title":"Check Input Data — check_input_data","text":"Conducts sanity checks input data","code":""},{"path":"https://github.com/fasrc/CRE/reference/check_input_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Input Data — check_input_data","text":"","code":"check_input_data(y, z, X)"},{"path":"https://github.com/fasrc/CRE/reference/check_input_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Input Data — check_input_data","text":"y observed response vector z treatment vector X features matrix","code":""},{"path":"https://github.com/fasrc/CRE/reference/check_input_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Input Data — check_input_data","text":"Number data samples.","code":""},{"path":"https://github.com/fasrc/CRE/reference/cre.html","id":null,"dir":"Reference","previous_headings":"","what":"The Causal Rule Ensemble — cre","title":"The Causal Rule Ensemble — cre","text":"Performs Causal Rule Ensemble dataset response variable, treatment variable, various features","code":""},{"path":"https://github.com/fasrc/CRE/reference/cre.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The Causal Rule Ensemble — cre","text":"","code":"cre(y, z, X, params)"},{"path":"https://github.com/fasrc/CRE/reference/cre.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The Causal Rule Ensemble — cre","text":"y observed response vector. z treatment vector. X covariate matrix. params list parameters required run function, including: Parameters Discovery ratio_dis: ratio data delegated discovery sub-sample. ite_method_dis: method estimate discovery sample ITE. include_ps_dis: Whether include propensity score estimate covariate discovery ITE estimation, considered BART, XBART, CF. ps_method_dis: estimation model propensity score discovery subsample. or_method_dis: estimation model outcome regressions estimate_ite_aipw discovery subsample. Parameters Inference ite_method_inf: method estimate inference sample ITE. include_ps_inf whether include propensity score estimate covariate inference ITE estimation, considered BART, XBART, CF. include_ps_inf: whether include propensity score estimate covariate inference ITE estimation, considered BART, XBART, CF. ps_method_inf: estimation model propensity score inference subsample. or_method_inf: estimation model outcome regressions estimate_ite_aipw inference subsample. Parameters ntrees_rf: number decision trees randomForest. ntrees_gbm: number decision trees gradient boosting. min_nodes: minimum size trees' terminal nodes. max_nodes: maximum size trees' terminal nodes. t: common support used generating causal rules matrix. q: selection threshold used selecting causal rules. rules_method: method selecting causal rules binary outcomes. include_offset: whether include offset estimating ITE, poisson . offset_name: name offset, included. cate_method: method estimate CATE values. cate_SL_library: library used cate_method set DRLearner. filter_cate: whether filter rules p-value <= 0.05.","code":""},{"path":"https://github.com/fasrc/CRE/reference/cre.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"The Causal Rule Ensemble — cre","text":"S3 object containing matrix Conditional Average Treatment Effect estimates","code":""},{"path":"https://github.com/fasrc/CRE/reference/cre.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"The Causal Rule Ensemble — cre","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  cre_results <- cre(y = dataset[[\"y\"]],                    z = dataset[[\"z\"]],                    X = as.data.frame(dataset[[\"X\"]]),                    params = list(ratio_dis = 0.25,                    ite_method_dis=\"bart\",                    include_ps_dis = TRUE,                    ps_method_dis = \"SL.xgboost\",                    ps_method_inf = \"SL.xgboost\",                    ite_method_inf = \"bart\",                    include_ps_inf = TRUE,                    include_offset = FALSE,                    cate_method = \"DRLearner\",                    cate_SL_library = \"SL.xgboost\",                    filter_cate = FALSE,                    offset_name = NA,                    ntrees_rf = 100,                    ntrees_gbm = 50,                    min_nodes = 20,                    max_nodes = 5,                    t = 0.025,                    q = 0.8)) #> Loading required package: nnls #> fitting treatment model via method 'bart' #> fitting response model via method 'bart' #> Registered S3 method overwritten by 'randomForest': #>   method      from #>   plot.margin RRF  #> 440 rules (length<=15) were extracted from the first 100 trees. #> 150 rules (length<=15) were extracted from the first 50 trees. #> Conducting Inference Subsample Analysis #> fitting treatment model via method 'bart' #> fitting response model via method 'bart'"},{"path":"https://github.com/fasrc/CRE/reference/cre_crossfit.html","id":null,"dir":"Reference","previous_headings":"","what":"The Causal Rule Ensemble Crossfit — cre_crossfit","title":"The Causal Rule Ensemble Crossfit — cre_crossfit","text":"Performs Causal Rule Ensemble twice dataset response variable, treatment variable, various features, swapping discovery inference subsamples.","code":""},{"path":"https://github.com/fasrc/CRE/reference/cre_crossfit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The Causal Rule Ensemble Crossfit — cre_crossfit","text":"","code":"cre_crossfit(   y,   z,   X,   ite_method_dis,   include_ps_dis = NA,   ps_method_dis = \"SL.xgboost\",   or_method_dis = NA,   ite_method_inf,   include_ps_inf = NA,   ps_method_inf = \"SL.xgboost\",   or_method_inf = NA,   ntrees_rf,   ntrees_gbm,   min_nodes,   max_nodes,   t,   q,   rules_method = NA,   include_offset = FALSE,   offset_name = NA,   cate_method = \"DRLearner\",   cate_SL_library = \"SL.xgboost\",   filter_cate = FALSE )"},{"path":"https://github.com/fasrc/CRE/reference/cre_crossfit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The Causal Rule Ensemble Crossfit — cre_crossfit","text":"y observed response vector z treatment vector X covariate matrix ite_method_dis method estimate discovery sample ITE include_ps_dis whether include propensity score estimate covariate discovery ITE estimation, considered BART, XBART, CF ps_method_dis estimation model propensity score discovery subsample or_method_dis estimation model outcome regressions estimate_ite_aipw discovery subsample ite_method_inf method estimate inference sample ITE include_ps_inf whether include propensity score estimate covariate inference ITE estimation, considered BART, XBART, CF ps_method_inf estimation model propensity score inference subsample or_method_inf estimation model outcome regressions estimate_ite_aipw inference subsample ntrees_rf number decision trees randomForest ntrees_gbm number decision trees gradient boosting min_nodes minimum size trees' terminal nodes max_nodes maximum size trees' terminal nodes t common support used generating causal rules matrix q selection threshold used selecting causal rules rules_method method selecting causal rules binary outcomes include_offset whether include offset estimating ITE, poisson offset_name name offset, included cate_method method estimate CATE values cate_SL_library library used cate_method set DRLearner filter_cate whether filter rules p-value <= 0.05","code":""},{"path":"https://github.com/fasrc/CRE/reference/cre_crossfit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"The Causal Rule Ensemble Crossfit — cre_crossfit","text":"S3 object containing matrix averaged Conditional Average Treatment Effect estimates two CRE iterations","code":""},{"path":"https://github.com/fasrc/CRE/reference/cre_crossfit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"The Causal Rule Ensemble Crossfit — cre_crossfit","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  cre_cross_results <- cre_crossfit(y = dataset[[\"y\"]], z = dataset[[\"z\"]],                                   X = as.data.frame(dataset[[\"X\"]]),                                   ite_method_dis = \"bart\",                                   include_ps_dis = TRUE,                                   ite_method_inf = \"bart\",                                   include_ps_inf = TRUE,                                   ntrees_rf = 100, ntrees_gbm = 50,                                   min_nodes = 20, max_nodes = 5,                                   t = 0.025, q = 0.8) #> fitting treatment model via method 'bart' #> fitting response model via method 'bart' #> fitting treatment model via method 'bart' #> fitting response model via method 'bart' #> Conducting Discovery Subsample Analysis 1 #> 411 rules (length<=15) were extracted from the first 100 trees. #> 150 rules (length<=15) were extracted from the first 50 trees. #> Conducting Inference Subsample Analysis 1 #> Conducting Discovery Subsample Analysis 2 #> 493 rules (length<=15) were extracted from the first 100 trees. #> 100 rules (length<=15) were extracted from the first 50 trees. #> Conducting Inference Subsample Analysis 2"},{"path":"https://github.com/fasrc/CRE/reference/estimate_cate.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Conditional Average Treatment Effect — estimate_cate","title":"Estimate the Conditional Average Treatment Effect — estimate_cate","text":"Estimates Conditional Average Treatment Effect given standardized vector Individual Treatment Effects, standardized matrix causal rules, list causal rules.","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_cate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Conditional Average Treatment Effect — estimate_cate","text":"","code":"estimate_cate(   y_inf,   z_inf,   X_inf,   X_names,   include_offset,   offset_name,   rules_matrix_inf,   select_rules_interpretable,   cate_method,   ite_inf,   sd_ite_inf,   cate_SL_library,   filter_cate )"},{"path":"https://github.com/fasrc/CRE/reference/estimate_cate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Conditional Average Treatment Effect — estimate_cate","text":"y_inf outcome vector inference subsample z_inf treatment vector inference subsample X_inf covariate vector inference subsample X_names names covariates include_offset whether include offset estimating ITE, poisson offset_name name offset, included rules_matrix_inf standardized causal rules matrix inference subsample select_rules_interpretable list select causal rules terms coviariate names cate_method method estimate CATE values ite_inf estimated ITEs inference subsample sd_ite_inf standard deviations estimated ITEs inference subsample cate_SL_library library used cate_method = DRLearner filter_cate whether filter rules p-value <= 0.05","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_cate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Conditional Average Treatment Effect — estimate_cate","text":"matrix CATE estimates","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_cate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Conditional Average Treatment Effect — estimate_cate","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) X_names <- names(as.data.frame(X)) ratio_dis <- 0.25 ite_method_dis <- \"bart\" include_ps_dis <- TRUE ps_method_dis <- \"SL.xgboost\" or_method_dis <- NA ite_method_inf <- \"bart\" include_ps_inf <- TRUE ps_method_inf <- \"SL.xgboost\" or_method_inf <- NA ntrees_rf <- 100 ntrees_gbm <- 50 min_nodes <- 20 max_nodes <- 5 t <- 0.025 q <- 0.8 rules_method <- NA include_offset <- FALSE offset_name <- NA binary <- FALSE cate_method <- \"DRLearner\" cate_SL_library <- \"SL.xgboost\" filter_cate <- FALSE  # Split data X <- as.matrix(X) y <- as.matrix(y) z <- as.matrix(z) subgroups <- split_data(y, z, X, ratio_dis) discovery <- subgroups[[1]] inference <- subgroups[[2]]  # Generate y, z, and X for discovery and inference data y_dis <- discovery[,1] z_dis <- discovery[,2] X_dis <- discovery[,3:ncol(discovery)]  y_inf <- inference[,1] z_inf <- inference[,2] X_inf <- inference[,3:ncol(inference)]  # Estimate ITE on Discovery Subsample ite_list_dis <- estimate_ite(y_dis, z_dis, X_dis, ite_method_dis,                              include_ps_dis, ps_method_dis, or_method_dis,                              binary, X_names, include_offset, offset_name) #> fitting treatment model via method 'bart' #> fitting response model via method 'bart' ite_dis <- ite_list_dis[[\"ite\"]] ite_std_dis <- ite_list_dis[[\"ite_std\"]]  # Generate rules list initial_rules_dis <- generate_rules(X_dis, ite_std_dis, ntrees_rf, ntrees_gbm,                                     min_nodes, max_nodes) #> 448 rules (length<=15) were extracted from the first 100 trees. #> 200 rules (length<=15) were extracted from the first 50 trees.  # Generate rules matrix rules_all_dis <- generate_rules_matrix(X_dis, initial_rules_dis, t) rules_matrix_dis <- rules_all_dis[[\"rules_matrix\"]] rules_matrix_std_dis <- rules_all_dis[[\"rules_matrix_std\"]] rules_list_dis <- rules_all_dis[[\"rules_list\"]]  # Select important rules select_rules_dis <- as.character(select_causal_rules(rules_matrix_std_dis, rules_list_dis,                                                      ite_std_dis, binary, q, rules_method)) select_rules_matrix_dis <- rules_matrix_dis[,which(rules_list_dis %in% select_rules_dis)] select_rules_matrix_std_dis <- rules_matrix_std_dis[,which(rules_list_dis %in% select_rules_dis)] if (length(select_rules_dis) == 0) stop(\"No significant rules were discovered. Ending Analysis.\")  # Estimate Inference ITE and CATE rules_matrix_inf <- matrix(0, nrow = dim(X_inf)[1], ncol = length(select_rules_dis)) for (i in 1:length(select_rules_dis)) {   rules_matrix_inf[eval(parse(text = select_rules_dis[i]), list(X = X_inf)), i] <- 1 } select_rules_interpretable <- interpret_select_rules(select_rules_dis, X_names)  ite_list_inf <- estimate_ite(y_inf, z_inf, X_inf, ite_method_inf,                              include_ps_inf, ps_method_inf, or_method_inf,                              binary, X_names, include_offset, offset_name) #> fitting treatment model via method 'bart' #> fitting response model via method 'bart' ite_inf <- ite_list_inf[[\"ite\"]] ite_std_inf <- ite_list_inf[[\"ite_std\"]]  cate_inf <- estimate_cate(y_inf, z_inf, X_inf, X_names, include_offset, offset_name,                          rules_matrix_inf, select_rules_interpretable,                          cate_method, ite_inf, sd_ite_inf,                          cate_SL_library, filter_cate)"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Individual Treatment Effect — estimate_ite","title":"Estimate the Individual Treatment Effect — estimate_ite","text":"Estimates Individual Treatment Effect given response vector, treatment vector, features matrix, desired algorithm.","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Individual Treatment Effect — estimate_ite","text":"","code":"estimate_ite(   y,   z,   X,   ite_method,   include_ps,   ps_method,   or_method,   binary,   X_names,   include_offset,   offset_name )"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Individual Treatment Effect — estimate_ite","text":"y observed response vector z treatment vector X features matrix ite_method method estimating Individual Treatment Effect: ipw: Inverse Propensity Weighting sipw: Stabilized Inverse Propensity Weighting aipw: Augmented Inverse Propensity Weighting : Outcome Regression, TODO: change non reserved term. bart: BART xbart: Accelerated BART bcf: Bayesian Causal Forest xbcf: Accelerated Bayesian Causal Forest cf: Causal Forest poisson: Poisson Estimation include_ps whether include propensity score estimate covariate ITE estimation ps_method estimation method propensity score or_method estimation model outcome regressions estimate_ite_aipw binary whether outcome binary X_names names covariates include_offset whether include offset estimating ITE, poisson offset_name name offset, included","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Individual Treatment Effect — estimate_ite","text":"list includes: raw ITE estimates standardized ITE estimates, standard deviations ITE estimates.","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Individual Treatment Effect — estimate_ite","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) ite_method <- \"bart\" include_ps <- TRUE ps_method <- \"SL.xgboost\" or_method <- NA binary <- FALSE X_names <- names(as.data.frame(X)) include_offset <- FALSE offset_name <- NA  ite_list <- estimate_ite(y, z, X, ite_method, include_ps, ps_method, or_method,                          binary, X_names, include_offset, offset_name) #> fitting treatment model via method 'bart' #> fitting response model via method 'bart'"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_aipw.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Individual Treatment Effect using Augmented Inverse Propensity Weighting — estimate_ite_aipw","title":"Estimate the Individual Treatment Effect using Augmented Inverse Propensity Weighting — estimate_ite_aipw","text":"Estimates Individual Treatment Effect using Augmented Inverse Propensity Weighting given response vector, treatment vector, features matrix, estimation model propensity score estimation model outcome regressions","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_aipw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Individual Treatment Effect using Augmented Inverse Propensity Weighting — estimate_ite_aipw","text":"","code":"estimate_ite_aipw(y, z, X, ps_method = \"SL.xgboost\", or_method = \"SL.xgboost\")"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_aipw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Individual Treatment Effect using Augmented Inverse Propensity Weighting — estimate_ite_aipw","text":"y observed response vector z treatment vector X features matrix ps_method estimation model propensity score or_method estimation model outcome regressions","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_aipw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Individual Treatment Effect using Augmented Inverse Propensity Weighting — estimate_ite_aipw","text":"list ITE estimates standard deviations ITE estimates","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_aipw.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Individual Treatment Effect using Augmented Inverse Propensity Weighting — estimate_ite_aipw","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) ps_method <- \"SL.xgboost\" or_method <- \"SL.xgboost\"  ite_list <- estimate_ite_aipw(y, z, X, ps_method, or_method)"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_bart.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Individual Treatment Effect using Bayesian Additive Regression Trees — estimate_ite_bart","title":"Estimate the Individual Treatment Effect using Bayesian Additive Regression Trees — estimate_ite_bart","text":"Estimates Individual Treatment Effect using Bayesian Additive Regression Trees given response vector, treatment vector, features matrix.","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_bart.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Individual Treatment Effect using Bayesian Additive Regression Trees — estimate_ite_bart","text":"","code":"estimate_ite_bart(y, z, X, include_ps, ps_method)"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_bart.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Individual Treatment Effect using Bayesian Additive Regression Trees — estimate_ite_bart","text":"y observed response vector z treatment vector X features matrix include_ps whether include propensity score estimate covariate ITE estimation ps_method method estimation propensity score","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_bart.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Individual Treatment Effect using Bayesian Additive Regression Trees — estimate_ite_bart","text":"list ITE estimates standard deviations ITE estimates","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_bart.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Individual Treatment Effect using Bayesian Additive Regression Trees — estimate_ite_bart","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) include_ps <- TRUE ps_method <- \"SL.xgboost\"  ite_list <- estimate_ite_bart(y, z, X, include_ps, ps_method) #> fitting treatment model via method 'bart' #> fitting response model via method 'bart'"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_bcf.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Individual Treatment Effect using Bayesian Causal Forest — estimate_ite_bcf","title":"Estimate the Individual Treatment Effect using Bayesian Causal Forest — estimate_ite_bcf","text":"Estimates Individual Treatment Effect using Bayesian Causal Forest given response vector, treatment vector, features matrix.","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_bcf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Individual Treatment Effect using Bayesian Causal Forest — estimate_ite_bcf","text":"","code":"estimate_ite_bcf(y, z, X, ps_method)"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_bcf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Individual Treatment Effect using Bayesian Causal Forest — estimate_ite_bcf","text":"y observed response vector z treatment vector X features matrix ps_method method estimation propensity score","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_bcf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Individual Treatment Effect using Bayesian Causal Forest — estimate_ite_bcf","text":"list ITE estimates standard deviations ITE estimates","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_bcf.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Individual Treatment Effect using Bayesian Causal Forest — estimate_ite_bcf","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) ps_method <- \"SL.xgboost\"  ite_list <- estimate_ite_bcf(y, z, as.matrix(X), ps_method) #> Warning: collapsing to unique 'x' values #> Using 11 control variables. #> Using 10 potential effect moderators. #>  #> Beginning MCMC: #> iteration: 0 sigma: 1 #> iteration: 100 sigma: 0.773683 #> iteration: 200 sigma: 0.739541 #> iteration: 300 sigma: 0.77646 #> iteration: 400 sigma: 0.776691 #> iteration: 500 sigma: 0.746324 #> iteration: 600 sigma: 0.740728 #> iteration: 700 sigma: 0.733742 #> iteration: 800 sigma: 0.761908 #> iteration: 900 sigma: 0.780337 #> time for loop: 11"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_cf.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Individual Treatment Effect using Causal Forest — estimate_ite_cf","title":"Estimate the Individual Treatment Effect using Causal Forest — estimate_ite_cf","text":"Estimates Individual Treatment Effect using Causal Forest given response vector, treatment vector, features matrix","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_cf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Individual Treatment Effect using Causal Forest — estimate_ite_cf","text":"","code":"estimate_ite_cf(y, z, X, include_ps, ps_method)"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_cf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Individual Treatment Effect using Causal Forest — estimate_ite_cf","text":"y observed response vector z treatment vector X features matrix include_ps whether include propensity score estimate covariate ITE estimation ps_method method estimation propensity score","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_cf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Individual Treatment Effect using Causal Forest — estimate_ite_cf","text":"list ITE estimates standard deviations ITE estimates","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_cf.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Individual Treatment Effect using Causal Forest — estimate_ite_cf","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) include_ps <- TRUE ps_method <- \"SL.xgboost\"  ite_list <- estimate_ite_cf(y, z, X, include_ps, ps_method)"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_ipw.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Individual Treatment Effect using Inverse Propensity Weighting — estimate_ite_ipw","title":"Estimate the Individual Treatment Effect using Inverse Propensity Weighting — estimate_ite_ipw","text":"Estimates Individual Treatment Effect using Inverse Propensity Weighting given response vector, treatment vector, features matrix.","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_ipw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Individual Treatment Effect using Inverse Propensity Weighting — estimate_ite_ipw","text":"","code":"estimate_ite_ipw(y, z, X, ps_method)"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_ipw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Individual Treatment Effect using Inverse Propensity Weighting — estimate_ite_ipw","text":"y observed response vector z treatment vector X features matrix ps_method estimation method propensity score","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_ipw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Individual Treatment Effect using Inverse Propensity Weighting — estimate_ite_ipw","text":"vector ITE estimates","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_ipw.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Individual Treatment Effect using Inverse Propensity Weighting — estimate_ite_ipw","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) ps_method <- \"SL.xgboost\"  ite_list <- estimate_ite_ipw(y, z, X, ps_method)"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_or.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Individual Treatment Effect using Outcome Regression — estimate_ite_or","title":"Estimate the Individual Treatment Effect using Outcome Regression — estimate_ite_or","text":"Method estimating Individual Treatment Effect using Outcome Regression given response vector, treatment vector, features matrix","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_or.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Individual Treatment Effect using Outcome Regression — estimate_ite_or","text":"","code":"estimate_ite_or(y, z, X)"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_or.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Individual Treatment Effect using Outcome Regression — estimate_ite_or","text":"y observed response vector z treatment vector X features matrix","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_or.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Individual Treatment Effect using Outcome Regression — estimate_ite_or","text":"vector ITE estimates","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_or.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Individual Treatment Effect using Outcome Regression — estimate_ite_or","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]])  ite_list <- estimate_ite_or(y, z, X) #> *****Into main of wbart #> *****Data: #> data:n,p,np: 388, 10, 612 #> y1,yn: -0.694294, 1.362455 #> x1,x[n*p]: 1.000000, 1.000000 #> xp1,xp[np*p]: 0.000000, 0.000000 #> *****Number of Trees: 200 #> *****Number of Cut Points: 1 ... 1 #> *****burn and ndpost: 100, 1000 #> *****Prior:beta,alpha,tau,nu,lambda: 2.000000,0.950000,0.118817,3.000000,0.250422 #> *****sigma: 1.133838 #> *****w (weights): 1.000000 ... 1.000000 #> *****Dirichlet:sparse,theta,omega,a,b,rho,augment: 0,0,1,0.5,1,10,0 #> *****nkeeptrain,nkeeptest,nkeeptestme,nkeeptreedraws: 1000,1000,1000,1000 #> *****printevery: 100 #> *****skiptr,skipte,skipteme,skiptreedraws: 1,1,1,1 #>  #> MCMC #> done 0 (out of 1100) #> done 100 (out of 1100) #> done 200 (out of 1100) #> done 300 (out of 1100) #> done 400 (out of 1100) #> done 500 (out of 1100) #> done 600 (out of 1100) #> done 700 (out of 1100) #> done 800 (out of 1100) #> done 900 (out of 1100) #> done 1000 (out of 1100) #> time: 6s #> check counts #> trcnt,tecnt,temecnt,treedrawscnt: 1000,1000,1000,1000 #> *****Into main of wbart #> *****Data: #> data:n,p,np: 612, 10, 388 #> y1,yn: -0.485955, 0.857738 #> x1,x[n*p]: 0.000000, 0.000000 #> xp1,xp[np*p]: 1.000000, 1.000000 #> *****Number of Trees: 200 #> *****Number of Cut Points: 1 ... 1 #> *****burn and ndpost: 100, 1000 #> *****Prior:beta,alpha,tau,nu,lambda: 2.000000,0.950000,0.139249,3.000000,0.168737 #> *****sigma: 0.930723 #> *****w (weights): 1.000000 ... 1.000000 #> *****Dirichlet:sparse,theta,omega,a,b,rho,augment: 0,0,1,0.5,1,10,0 #> *****nkeeptrain,nkeeptest,nkeeptestme,nkeeptreedraws: 1000,1000,1000,1000 #> *****printevery: 100 #> *****skiptr,skipte,skipteme,skiptreedraws: 1,1,1,1 #>  #> MCMC #> done 0 (out of 1100) #> done 100 (out of 1100) #> done 200 (out of 1100) #> done 300 (out of 1100) #> done 400 (out of 1100) #> done 500 (out of 1100) #> done 600 (out of 1100) #> done 700 (out of 1100) #> done 800 (out of 1100) #> done 900 (out of 1100) #> done 1000 (out of 1100) #> time: 6s #> check counts #> trcnt,tecnt,temecnt,treedrawscnt: 1000,1000,1000,1000"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_poisson.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Individual Treatment Effect using Poisson Regression — estimate_ite_poisson","title":"Estimate the Individual Treatment Effect using Poisson Regression — estimate_ite_poisson","text":"Estimates Individual Treatment Effect using Poisson Regression given response vector, treatment vector, features matrix.","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_poisson.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Individual Treatment Effect using Poisson Regression — estimate_ite_poisson","text":"","code":"estimate_ite_poisson(y, z, X, X_names, include_offset, offset_name)"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_poisson.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Individual Treatment Effect using Poisson Regression — estimate_ite_poisson","text":"y observed response vector z treatment vector X features matrix X_names names covariates include_offset whether include offset estimating ITE, poisson offset_name name offset, included","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_poisson.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Individual Treatment Effect using Poisson Regression — estimate_ite_poisson","text":"vector ITE estimates","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_poisson.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Individual Treatment Effect using Poisson Regression — estimate_ite_poisson","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- abs(dataset[[\"y\"]]) z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) X_names <- names(as.data.frame(X)) include_offset <- FALSE offset_name <- NA  ite_list <- estimate_ite_poisson(y, z, X, X_names, include_offset, offset_name) #> Warning: non-integer x = 1.811321 #> Warning: non-integer x = 0.402978 #> Warning: non-integer x = 2.876139 #> Warning: non-integer x = 2.408807 #> Warning: non-integer x = 0.357838 #> Warning: non-integer x = 1.336929 #> Warning: non-integer x = 3.945956 #> Warning: non-integer x = 2.684246 #> Warning: non-integer x = 2.243681 #> Warning: non-integer x = 0.170480 #> Warning: non-integer x = 1.344869 #> Warning: non-integer x = 0.662835 #> Warning: non-integer x = 3.528969 #> Warning: non-integer x = 0.964597 #> Warning: non-integer x = 1.941161 #> Warning: non-integer x = 2.408888 #> Warning: non-integer x = 0.212344 #> Warning: non-integer x = 0.148301 #> Warning: non-integer x = 2.013081 #> Warning: non-integer x = 0.435544 #> Warning: non-integer x = 2.287071 #> Warning: non-integer x = 0.370544 #> Warning: non-integer x = 2.038821 #> Warning: non-integer x = 0.515737 #> Warning: non-integer x = 0.308658 #> Warning: non-integer x = 0.062227 #> Warning: non-integer x = 2.491228 #> Warning: non-integer x = 0.414125 #> Warning: non-integer x = 2.442464 #> Warning: non-integer x = 1.035821 #> Warning: non-integer x = 0.585792 #> Warning: non-integer x = 3.193124 #> Warning: non-integer x = 2.837734 #> Warning: non-integer x = 1.845290 #> Warning: non-integer x = 1.674083 #> Warning: non-integer x = 1.221545 #> Warning: non-integer x = 0.339619 #> Warning: non-integer x = 1.868222 #> Warning: non-integer x = 2.241728 #> Warning: non-integer x = 2.437055 #> Warning: non-integer x = 1.872839 #> Warning: non-integer x = 0.532658 #> Warning: non-integer x = 1.368085 #> Warning: non-integer x = 1.545631 #> Warning: non-integer x = 0.354074 #> Warning: non-integer x = 1.276886 #> Warning: non-integer x = 2.679913 #> Warning: non-integer x = 0.253203 #> Warning: non-integer x = 3.082656 #> Warning: non-integer x = 1.583860 #> Warning: non-integer x = 0.066011 #> Warning: non-integer x = 2.706818 #> Warning: non-integer x = 2.188576 #> Warning: non-integer x = 2.980204 #> Warning: non-integer x = 2.335458 #> Warning: non-integer x = 2.471019 #> Warning: non-integer x = 0.449494 #> Warning: non-integer x = 0.907493 #> Warning: non-integer x = 0.338388 #> Warning: non-integer x = 2.437266 #> Warning: non-integer x = 0.768220 #> Warning: non-integer x = 1.374907 #> Warning: non-integer x = 2.119770 #> Warning: non-integer x = 1.549855 #> Warning: non-integer x = 2.487495 #> Warning: non-integer x = 0.506368 #> Warning: non-integer x = 0.644261 #> Warning: non-integer x = 2.345061 #> Warning: non-integer x = 2.355267 #> Warning: non-integer x = 0.625035 #> Warning: non-integer x = 0.052257 #> Warning: non-integer x = 0.436357 #> Warning: non-integer x = 2.798103 #> Warning: non-integer x = 3.131918 #> Warning: non-integer x = 3.396179 #> Warning: non-integer x = 0.351526 #> Warning: non-integer x = 1.996589 #> Warning: non-integer x = 2.963073 #> Warning: non-integer x = 0.072248 #> Warning: non-integer x = 0.021404 #> Warning: non-integer x = 1.221154 #> Warning: non-integer x = 1.388892 #> Warning: non-integer x = 0.972414 #> Warning: non-integer x = 0.864488 #> Warning: non-integer x = 1.304118 #> Warning: non-integer x = 1.967445 #> Warning: non-integer x = 1.147591 #> Warning: non-integer x = 2.155882 #> Warning: non-integer x = 0.759964 #> Warning: non-integer x = 2.192800 #> Warning: non-integer x = 5.227975 #> Warning: non-integer x = 1.176923 #> Warning: non-integer x = 0.774662 #> Warning: non-integer x = 2.584772 #> Warning: non-integer x = 0.760929 #> Warning: non-integer x = 2.315145 #> Warning: non-integer x = 1.151050 #> Warning: non-integer x = 1.470236 #> Warning: non-integer x = 0.516981 #> Warning: non-integer x = 2.440481 #> Warning: non-integer x = 0.685891 #> Warning: non-integer x = 1.977194 #> Warning: non-integer x = 0.390499 #> Warning: non-integer x = 0.681978 #> Warning: non-integer x = 2.466543 #> Warning: non-integer x = 1.111120 #> Warning: non-integer x = 0.116521 #> Warning: non-integer x = 2.337713 #> Warning: non-integer x = 0.858393 #> Warning: non-integer x = 2.209866 #> Warning: non-integer x = 1.292269 #> Warning: non-integer x = 0.890498 #> Warning: non-integer x = 1.854488 #> Warning: non-integer x = 1.031281 #> Warning: non-integer x = 1.017427 #> Warning: non-integer x = 2.532175 #> Warning: non-integer x = 1.942313 #> Warning: non-integer x = 1.781780 #> Warning: non-integer x = 0.673546 #> Warning: non-integer x = 1.898985 #> Warning: non-integer x = 1.561444 #> Warning: non-integer x = 1.171635 #> Warning: non-integer x = 2.685081 #> Warning: non-integer x = 3.559755 #> Warning: non-integer x = 2.068064 #> Warning: non-integer x = 2.408011 #> Warning: non-integer x = 1.175937 #> Warning: non-integer x = 2.219180 #> Warning: non-integer x = 0.191457 #> Warning: non-integer x = 3.136382 #> Warning: non-integer x = 2.887508 #> Warning: non-integer x = 2.424338 #> Warning: non-integer x = 1.391766 #> Warning: non-integer x = 0.755931 #> Warning: non-integer x = 1.125265 #> Warning: non-integer x = 2.983222 #> Warning: non-integer x = 1.847202 #> Warning: non-integer x = 1.624173 #> Warning: non-integer x = 3.756333 #> Warning: non-integer x = 3.534151 #> Warning: non-integer x = 1.847347 #> Warning: non-integer x = 2.478934 #> Warning: non-integer x = 2.514235 #> Warning: non-integer x = 1.479387 #> Warning: non-integer x = 2.926424 #> Warning: non-integer x = 0.866346 #> Warning: non-integer x = 0.748412 #> Warning: non-integer x = 3.650418 #> Warning: non-integer x = 0.663321 #> Warning: non-integer x = 4.068631 #> Warning: non-integer x = 3.388173 #> Warning: non-integer x = 2.285441 #> Warning: non-integer x = 1.067351 #> Warning: non-integer x = 2.287179 #> Warning: non-integer x = 1.508514 #> Warning: non-integer x = 1.269710 #> Warning: non-integer x = 2.182401 #> Warning: non-integer x = 2.146538 #> Warning: non-integer x = 1.846581 #> Warning: non-integer x = 0.293662 #> Warning: non-integer x = 1.150022 #> Warning: non-integer x = 1.560245 #> Warning: non-integer x = 1.755726 #> Warning: non-integer x = 3.271130 #> Warning: non-integer x = 0.237816 #> Warning: non-integer x = 0.730243 #> Warning: non-integer x = 2.167781 #> Warning: non-integer x = 0.196512 #> Warning: non-integer x = 2.106356 #> Warning: non-integer x = 0.774102 #> Warning: non-integer x = 2.445719 #> Warning: non-integer x = 1.778391 #> Warning: non-integer x = 0.687449 #> Warning: non-integer x = 3.615182 #> Warning: non-integer x = 3.565063 #> Warning: non-integer x = 1.521265 #> Warning: non-integer x = 0.428525 #> Warning: non-integer x = 1.684572 #> Warning: non-integer x = 4.442046 #> Warning: non-integer x = 0.356518 #> Warning: non-integer x = 2.747963 #> Warning: non-integer x = 2.052432 #> Warning: non-integer x = 2.137385 #> Warning: non-integer x = 0.445494 #> Warning: non-integer x = 0.410527 #> Warning: non-integer x = 1.626585 #> Warning: non-integer x = 0.531767 #> Warning: non-integer x = 2.554216 #> Warning: non-integer x = 2.684457 #> Warning: non-integer x = 4.445293 #> Warning: non-integer x = 1.399976 #> Warning: non-integer x = 1.743784 #> Warning: non-integer x = 2.213675 #> Warning: non-integer x = 2.654350 #> Warning: non-integer x = 2.151711 #> Warning: non-integer x = 1.001007 #> Warning: non-integer x = 2.131367 #> Warning: non-integer x = 1.258023 #> Warning: non-integer x = 0.386452 #> Warning: non-integer x = 0.890881 #> Warning: non-integer x = 1.043185 #> Warning: non-integer x = 1.883935 #> Warning: non-integer x = 0.904574 #> Warning: non-integer x = 2.546531 #> Warning: non-integer x = 1.427413 #> Warning: non-integer x = 0.698458 #> Warning: non-integer x = 3.215466 #> Warning: non-integer x = 0.705474 #> Warning: non-integer x = 1.838338 #> Warning: non-integer x = 0.256245 #> Warning: non-integer x = 1.184976 #> Warning: non-integer x = 1.333282 #> Warning: non-integer x = 0.067899 #> Warning: non-integer x = 1.245266 #> Warning: non-integer x = 2.060634 #> Warning: non-integer x = 2.572179 #> Warning: non-integer x = 0.478816 #> Warning: non-integer x = 1.761145 #> Warning: non-integer x = 1.199226 #> Warning: non-integer x = 2.430488 #> Warning: non-integer x = 0.013079 #> Warning: non-integer x = 1.465290 #> Warning: non-integer x = 0.594974 #> Warning: non-integer x = 4.133461 #> Warning: non-integer x = 0.599107 #> Warning: non-integer x = 1.706068 #> Warning: non-integer x = 2.128078 #> Warning: non-integer x = 0.152785 #> Warning: non-integer x = 4.310444 #> Warning: non-integer x = 3.068875 #> Warning: non-integer x = 0.512134 #> Warning: non-integer x = 0.691414 #> Warning: non-integer x = 1.266906 #> Warning: non-integer x = 2.763631 #> Warning: non-integer x = 0.740044 #> Warning: non-integer x = 1.499575 #> Warning: non-integer x = 0.287604 #> Warning: non-integer x = 0.636437 #> Warning: non-integer x = 2.927018 #> Warning: non-integer x = 2.255280 #> Warning: non-integer x = 2.415432 #> Warning: non-integer x = 1.844213 #> Warning: non-integer x = 2.094884 #> Warning: non-integer x = 1.041040 #> Warning: non-integer x = 0.865697 #> Warning: non-integer x = 1.330157 #> Warning: non-integer x = 1.683726 #> Warning: non-integer x = 2.282117 #> Warning: non-integer x = 3.003350 #> Warning: non-integer x = 4.740002 #> Warning: non-integer x = 3.436858 #> Warning: non-integer x = 0.159710 #> Warning: non-integer x = 0.792204 #> Warning: non-integer x = 4.531186 #> Warning: non-integer x = 0.469389 #> Warning: non-integer x = 0.789828 #> Warning: non-integer x = 3.817006 #> Warning: non-integer x = 2.785523 #> Warning: non-integer x = 2.326080 #> Warning: non-integer x = 1.003240 #> Warning: non-integer x = 3.198166 #> Warning: non-integer x = 1.092057 #> Warning: non-integer x = 2.072204 #> Warning: non-integer x = 1.419909 #> Warning: non-integer x = 2.984094 #> Warning: non-integer x = 0.271057 #> Warning: non-integer x = 1.577730 #> Warning: non-integer x = 1.855936 #> Warning: non-integer x = 4.399383 #> Warning: non-integer x = 3.960950 #> Warning: non-integer x = 0.725617 #> Warning: non-integer x = 1.658524 #> Warning: non-integer x = 4.239269 #> Warning: non-integer x = 5.192036 #> Warning: non-integer x = 3.303426 #> Warning: non-integer x = 2.455569 #> Warning: non-integer x = 3.107453 #> Warning: non-integer x = 2.543214 #> Warning: non-integer x = 1.498907 #> Warning: non-integer x = 0.993210 #> Warning: non-integer x = 2.503563 #> Warning: non-integer x = 0.514358 #> Warning: non-integer x = 0.211079 #> Warning: non-integer x = 2.665219 #> Warning: non-integer x = 2.309704 #> Warning: non-integer x = 2.847989 #> Warning: non-integer x = 0.753943 #> Warning: non-integer x = 4.946808 #> Warning: non-integer x = 0.215894 #> Warning: non-integer x = 3.764788 #> Warning: non-integer x = 0.390025 #> Warning: non-integer x = 2.235716 #> Warning: non-integer x = 2.998953 #> Warning: non-integer x = 3.283973 #> Warning: non-integer x = 2.490380 #> Warning: non-integer x = 1.214851 #> Warning: non-integer x = 1.028036 #> Warning: non-integer x = 1.046206 #> Warning: non-integer x = 1.735289 #> Warning: non-integer x = 4.533920 #> Warning: non-integer x = 0.847782 #> Warning: non-integer x = 3.244135 #> Warning: non-integer x = 1.310847 #> Warning: non-integer x = 2.744297 #> Warning: non-integer x = 2.889311 #> Warning: non-integer x = 0.022800 #> Warning: non-integer x = 3.968284 #> Warning: non-integer x = 0.138680 #> Warning: non-integer x = 1.437920 #> Warning: non-integer x = 0.919927 #> Warning: non-integer x = 1.162750 #> Warning: non-integer x = 3.029174 #> Warning: non-integer x = 0.070587 #> Warning: non-integer x = 0.659886 #> Warning: non-integer x = 0.261616 #> Warning: non-integer x = 1.196862 #> Warning: non-integer x = 1.384004 #> Warning: non-integer x = 0.679283 #> Warning: non-integer x = 1.273673 #> Warning: non-integer x = 3.712009 #> Warning: non-integer x = 1.542673 #> Warning: non-integer x = 2.069361 #> Warning: non-integer x = 1.501044 #> Warning: non-integer x = 2.252588 #> Warning: non-integer x = 1.632254 #> Warning: non-integer x = 3.685548 #> Warning: non-integer x = 1.394071 #> Warning: non-integer x = 1.480494 #> Warning: non-integer x = 0.309203 #> Warning: non-integer x = 0.015933 #> Warning: non-integer x = 0.406096 #> Warning: non-integer x = 2.473021 #> Warning: non-integer x = 1.916792 #> Warning: non-integer x = 4.886948 #> Warning: non-integer x = 1.559623 #> Warning: non-integer x = 1.988430 #> Warning: non-integer x = 0.434419 #> Warning: non-integer x = 2.591340 #> Warning: non-integer x = 2.162249 #> Warning: non-integer x = 2.529812 #> Warning: non-integer x = 2.282178 #> Warning: non-integer x = 2.910876 #> Warning: non-integer x = 0.337505 #> Warning: non-integer x = 3.067463 #> Warning: non-integer x = 0.606175 #> Warning: non-integer x = 2.919348 #> Warning: non-integer x = 1.356596 #> Warning: non-integer x = 2.650600 #> Warning: non-integer x = 1.006820 #> Warning: non-integer x = 1.544564 #> Warning: non-integer x = 0.942775 #> Warning: non-integer x = 1.135867 #> Warning: non-integer x = 0.050734 #> Warning: non-integer x = 0.652343 #> Warning: non-integer x = 1.859880 #> Warning: non-integer x = 0.159837 #> Warning: non-integer x = 1.779218 #> Warning: non-integer x = 0.929937 #> Warning: non-integer x = 1.566552 #> Warning: non-integer x = 2.269824 #> Warning: non-integer x = 2.884645 #> Warning: non-integer x = 1.879433 #> Warning: non-integer x = 2.108757 #> Warning: non-integer x = 0.737308 #> Warning: non-integer x = 1.153935 #> Warning: non-integer x = 1.850725 #> Warning: non-integer x = 1.780725 #> Warning: non-integer x = 0.817213 #> Warning: non-integer x = 2.540120 #> Warning: non-integer x = 2.349655 #> Warning: non-integer x = 1.678941 #> Warning: non-integer x = 1.446670 #> Warning: non-integer x = 0.635193 #> Warning: non-integer x = 4.022439 #> Warning: non-integer x = 2.991824 #> Warning: non-integer x = 3.923875 #> Warning: non-integer x = 2.437185 #> Warning: non-integer x = 1.170869 #> Warning: non-integer x = 2.672040 #> Warning: non-integer x = 2.787092 #> Warning: non-integer x = 0.927012 #> Warning: non-integer x = 1.863308 #> Warning: non-integer x = 1.181084 #> Warning: non-integer x = 3.942717 #> Warning: non-integer x = 4.197875 #> Warning: non-integer x = 2.208039 #> Warning: non-integer x = 0.970345 #> Warning: non-integer x = 1.884407 #> Warning: non-integer x = 3.139019 #> Warning: non-integer x = 2.574226 #> Warning: non-integer x = 0.686628 #> Warning: non-integer x = 2.269507 #> Warning: non-integer x = 1.206327 #> Warning: non-integer x = 3.642441 #> Warning: non-integer x = 3.700953 #> Warning: non-integer x = 0.406080 #> Warning: non-integer x = 2.902100 #> Warning: non-integer x = 0.033302 #> Warning: non-integer x = 1.227464 #> Warning: non-integer x = 2.515663 #> Warning: non-integer x = 1.331277 #> Warning: non-integer x = 1.048197 #> Warning: non-integer x = 1.005127 #> Warning: non-integer x = 0.511778 #> Warning: non-integer x = 0.557616 #> Warning: non-integer x = 0.085993 #> Warning: non-integer x = 2.631829 #> Warning: non-integer x = 0.351812 #> Warning: non-integer x = 2.431039 #> Warning: non-integer x = 2.352838 #> Warning: non-integer x = 3.077986 #> Warning: non-integer x = 2.209853 #> Warning: non-integer x = 0.676625 #> Warning: non-integer x = 0.914336 #> Warning: non-integer x = 2.078656 #> Warning: non-integer x = 0.297591 #> Warning: non-integer x = 0.986750 #> Warning: non-integer x = 2.413845 #> Warning: non-integer x = 0.041317 #> Warning: non-integer x = 1.752123 #> Warning: non-integer x = 3.476740 #> Warning: non-integer x = 0.791227 #> Warning: non-integer x = 0.444165 #> Warning: non-integer x = 1.219084 #> Warning: non-integer x = 0.466300 #> Warning: non-integer x = 0.987727 #> Warning: non-integer x = 2.347621 #> Warning: non-integer x = 0.713311 #> Warning: non-integer x = 1.179696 #> Warning: non-integer x = 1.897540 #> Warning: non-integer x = 0.257800 #> Warning: non-integer x = 1.703760 #> Warning: non-integer x = 1.891310 #> Warning: non-integer x = 0.426073 #> Warning: non-integer x = 1.970909 #> Warning: non-integer x = 0.791241 #> Warning: non-integer x = 0.049308 #> Warning: non-integer x = 3.164076 #> Warning: non-integer x = 1.446738 #> Warning: non-integer x = 1.384661 #> Warning: non-integer x = 0.714478 #> Warning: non-integer x = 1.442256 #> Warning: non-integer x = 0.367181 #> Warning: non-integer x = 1.683106 #> Warning: non-integer x = 3.685367 #> Warning: non-integer x = 0.721637 #> Warning: non-integer x = 1.549349 #> Warning: non-integer x = 2.303494 #> Warning: non-integer x = 1.842247 #> Warning: non-integer x = 1.839033 #> Warning: non-integer x = 0.602547 #> Warning: non-integer x = 1.772852 #> Warning: non-integer x = 1.796549 #> Warning: non-integer x = 1.871688 #> Warning: non-integer x = 1.705009 #> Warning: non-integer x = 3.265737 #> Warning: non-integer x = 0.716093 #> Warning: non-integer x = 1.015557 #> Warning: non-integer x = 1.607450 #> Warning: non-integer x = 2.180438 #> Warning: non-integer x = 1.219131 #> Warning: non-integer x = 3.255608 #> Warning: non-integer x = 0.266078 #> Warning: non-integer x = 2.726361 #> Warning: non-integer x = 2.060233 #> Warning: non-integer x = 0.541573 #> Warning: non-integer x = 0.576189 #> Warning: non-integer x = 2.275459 #> Warning: non-integer x = 0.454250 #> Warning: non-integer x = 0.000939 #> Warning: non-integer x = 1.271669 #> Warning: non-integer x = 0.142531 #> Warning: non-integer x = 1.398623 #> Warning: non-integer x = 1.389279 #> Warning: non-integer x = 0.020984 #> Warning: non-integer x = 3.310727 #> Warning: non-integer x = 2.694556 #> Warning: non-integer x = 0.292179 #> Warning: non-integer x = 0.106045 #> Warning: non-integer x = 0.902488 #> Warning: non-integer x = 1.860137 #> Warning: non-integer x = 1.513131 #> Warning: non-integer x = 0.031068 #> Warning: non-integer x = 1.021233 #> Warning: non-integer x = 1.518979 #> Warning: non-integer x = 1.790902 #> Warning: non-integer x = 0.061636 #> Warning: non-integer x = 0.497601 #> Warning: non-integer x = 0.253649 #> Warning: non-integer x = 2.024047 #> Warning: non-integer x = 0.729017 #> Warning: non-integer x = 2.514535 #> Warning: non-integer x = 0.621949 #> Warning: non-integer x = 1.296580 #> Warning: non-integer x = 2.376486 #> Warning: non-integer x = 1.096194 #> Warning: non-integer x = 1.610441 #> Warning: non-integer x = 0.511896 #> Warning: non-integer x = 1.831171 #> Warning: non-integer x = 0.186867 #> Warning: non-integer x = 0.850806 #> Warning: non-integer x = 3.148455 #> Warning: non-integer x = 1.188028 #> Warning: non-integer x = 2.449674 #> Warning: non-integer x = 1.086529 #> Warning: non-integer x = 0.439225 #> Warning: non-integer x = 2.280495 #> Warning: non-integer x = 0.971463 #> Warning: non-integer x = 2.143243 #> Warning: non-integer x = 0.340437 #> Warning: non-integer x = 0.079155 #> Warning: non-integer x = 0.425964 #> Warning: non-integer x = 0.990164 #> Warning: non-integer x = 0.441359 #> Warning: non-integer x = 0.565445 #> Warning: non-integer x = 1.461147 #> Warning: non-integer x = 0.521359 #> Warning: non-integer x = 4.164797 #> Warning: non-integer x = 0.620732 #> Warning: non-integer x = 0.628574 #> Warning: non-integer x = 0.812847 #> Warning: non-integer x = 0.345913 #> Warning: non-integer x = 1.511421 #> Warning: non-integer x = 1.650038 #> Warning: non-integer x = 0.115486 #> Warning: non-integer x = 1.397526 #> Warning: non-integer x = 2.390938 #> Warning: non-integer x = 0.344453 #> Warning: non-integer x = 2.396301 #> Warning: non-integer x = 1.213021 #> Warning: non-integer x = 2.111374 #> Warning: non-integer x = 1.743519 #> Warning: non-integer x = 0.022096 #> Warning: non-integer x = 0.335515 #> Warning: non-integer x = 0.598244 #> Warning: non-integer x = 0.563408 #> Warning: non-integer x = 3.955268 #> Warning: non-integer x = 1.464649 #> Warning: non-integer x = 1.962592 #> Warning: non-integer x = 2.335008 #> Warning: non-integer x = 3.526250 #> Warning: non-integer x = 2.481792 #> Warning: non-integer x = 0.198204 #> Warning: non-integer x = 0.249789 #> Warning: non-integer x = 1.041020 #> Warning: non-integer x = 0.256853 #> Warning: non-integer x = 0.345000 #> Warning: non-integer x = 1.753234 #> Warning: non-integer x = 1.007537 #> Warning: non-integer x = 2.046938 #> Warning: non-integer x = 1.177740 #> Warning: non-integer x = 1.893066 #> Warning: non-integer x = 2.051258 #> Warning: non-integer x = 2.824226 #> Warning: non-integer x = 1.362686 #> Warning: non-integer x = 1.779151 #> Warning: non-integer x = 1.633506 #> Warning: non-integer x = 2.168596 #> Warning: non-integer x = 0.729835 #> Warning: non-integer x = 0.933531 #> Warning: non-integer x = 2.352099 #> Warning: non-integer x = 0.133924 #> Warning: non-integer x = 0.448395 #> Warning: non-integer x = 1.416079 #> Warning: non-integer x = 1.818055 #> Warning: non-integer x = 3.025708 #> Warning: non-integer x = 0.999708 #> Warning: non-integer x = 0.146390 #> Warning: non-integer x = 2.631906 #> Warning: non-integer x = 0.311277 #> Warning: non-integer x = 1.639706 #> Warning: non-integer x = 0.436385 #> Warning: non-integer x = 0.482999 #> Warning: non-integer x = 1.502462 #> Warning: non-integer x = 0.647491 #> Warning: non-integer x = 0.373012 #> Warning: non-integer x = 2.695598 #> Warning: non-integer x = 2.266243 #> Warning: non-integer x = 0.108003 #> Warning: non-integer x = 2.570106 #> Warning: non-integer x = 0.572936 #> Warning: non-integer x = 0.920188 #> Warning: non-integer x = 0.652441 #> Warning: non-integer x = 0.125570 #> Warning: non-integer x = 1.634292 #> Warning: non-integer x = 2.223252 #> Warning: non-integer x = 2.070712 #> Warning: non-integer x = 1.072993 #> Warning: non-integer x = 0.110738 #> Warning: non-integer x = 2.361786 #> Warning: non-integer x = 1.106977 #> Warning: non-integer x = 0.351592 #> Warning: non-integer x = 1.657330 #> Warning: non-integer x = 1.149711 #> Warning: non-integer x = 2.196100 #> Warning: non-integer x = 1.524231 #> Warning: non-integer x = 1.213767 #> Warning: non-integer x = 1.629793 #> Warning: non-integer x = 1.050726 #> Warning: non-integer x = 1.136924 #> Warning: non-integer x = 2.656435 #> Warning: non-integer x = 0.982761 #> Warning: non-integer x = 1.201459 #> Warning: non-integer x = 1.777437 #> Warning: non-integer x = 2.250934 #> Warning: non-integer x = 1.840399 #> Warning: non-integer x = 0.949736 #> Warning: non-integer x = 1.506164 #> Warning: non-integer x = 1.962270 #> Warning: non-integer x = 2.158635 #> Warning: non-integer x = 0.351279 #> Warning: non-integer x = 1.205593 #> Warning: non-integer x = 1.392497 #> Warning: non-integer x = 2.775814 #> Warning: non-integer x = 0.591809 #> Warning: non-integer x = 2.331062 #> Warning: non-integer x = 0.155472 #> Warning: non-integer x = 0.610799 #> Warning: non-integer x = 0.934344 #> Warning: non-integer x = 2.598756 #> Warning: non-integer x = 1.547697 #> Warning: non-integer x = 1.133724 #> Warning: non-integer x = 0.610598 #> Warning: non-integer x = 2.379808 #> Warning: non-integer x = 1.479523 #> Warning: non-integer x = 0.165710 #> Warning: non-integer x = 1.127334 #> Warning: non-integer x = 0.772779 #> Warning: non-integer x = 0.934682 #> Warning: non-integer x = 1.406653 #> Warning: non-integer x = 1.713273 #> Warning: non-integer x = 0.471408 #> Warning: non-integer x = 1.768477 #> Warning: non-integer x = 0.920648 #> Warning: non-integer x = 1.384440 #> Warning: non-integer x = 0.578176 #> Warning: non-integer x = 0.272812 #> Warning: non-integer x = 2.712894 #> Warning: non-integer x = 0.530438 #> Warning: non-integer x = 2.640830 #> Warning: non-integer x = 0.040933 #> Warning: non-integer x = 1.206204 #> Warning: non-integer x = 0.646406 #> Warning: non-integer x = 1.420669 #> Warning: non-integer x = 0.318936 #> Warning: non-integer x = 2.069708 #> Warning: non-integer x = 3.007374 #> Warning: non-integer x = 1.739233 #> Warning: non-integer x = 1.763749 #> Warning: non-integer x = 1.557491 #> Warning: non-integer x = 3.359080 #> Warning: non-integer x = 0.797194 #> Warning: non-integer x = 2.168540 #> Warning: non-integer x = 0.485111 #> Warning: non-integer x = 4.400428 #> Warning: non-integer x = 2.818312 #> Warning: non-integer x = 1.521102 #> Warning: non-integer x = 2.141516 #> Warning: non-integer x = 3.317008 #> Warning: non-integer x = 3.430950 #> Warning: non-integer x = 1.161540 #> Warning: non-integer x = 1.064932 #> Warning: non-integer x = 0.784124 #> Warning: non-integer x = 1.899658 #> Warning: non-integer x = 2.786715 #> Warning: non-integer x = 0.127222 #> Warning: non-integer x = 0.364693 #> Warning: non-integer x = 2.288273 #> Warning: non-integer x = 3.004282 #> Warning: non-integer x = 0.572063 #> Warning: non-integer x = 1.478702 #> Warning: non-integer x = 1.763893 #> Warning: non-integer x = 1.473539 #> Warning: non-integer x = 2.310031 #> Warning: non-integer x = 0.354857 #> Warning: non-integer x = 0.925184 #> Warning: non-integer x = 0.943008 #> Warning: non-integer x = 1.540975 #> Warning: non-integer x = 0.130588 #> Warning: non-integer x = 0.542053 #> Warning: non-integer x = 1.372097 #> Warning: non-integer x = 0.293183 #> Warning: non-integer x = 0.954370 #> Warning: non-integer x = 1.408175 #> Warning: non-integer x = 1.409517 #> Warning: non-integer x = 1.952018 #> Warning: non-integer x = 0.524326 #> Warning: non-integer x = 0.886976 #> Warning: non-integer x = 1.653801 #> Warning: non-integer x = 1.126097 #> Warning: non-integer x = 1.055408 #> Warning: non-integer x = 2.654028 #> Warning: non-integer x = 1.637222 #> Warning: non-integer x = 2.497854 #> Warning: non-integer x = 2.926418 #> Warning: non-integer x = 1.571851 #> Warning: non-integer x = 0.730362 #> Warning: non-integer x = 1.411166 #> Warning: non-integer x = 1.748589 #> Warning: non-integer x = 0.408430 #> Warning: non-integer x = 1.745905 #> Warning: non-integer x = 1.226640 #> Warning: non-integer x = 0.766251 #> Warning: non-integer x = 1.286902 #> Warning: non-integer x = 2.674897 #> Warning: non-integer x = 0.523407 #> Warning: non-integer x = 2.807961 #> Warning: non-integer x = 0.160094 #> Warning: non-integer x = 1.345653 #> Warning: non-integer x = 0.240899 #> Warning: non-integer x = 2.022164 #> Warning: non-integer x = 1.185270 #> Warning: non-integer x = 2.102250 #> Warning: non-integer x = 1.376266 #> Warning: non-integer x = 0.665022 #> Warning: non-integer x = 0.368905 #> Warning: non-integer x = 1.212801 #> Warning: non-integer x = 1.060837 #> Warning: non-integer x = 2.631218 #> Warning: non-integer x = 2.047334 #> Warning: non-integer x = 4.227462 #> Warning: non-integer x = 0.849294 #> Warning: non-integer x = 0.537380 #> Warning: non-integer x = 3.533471 #> Warning: non-integer x = 2.901415 #> Warning: non-integer x = 2.810559 #> Warning: non-integer x = 1.489831 #> Warning: non-integer x = 0.119330 #> Warning: non-integer x = 0.364186 #> Warning: non-integer x = 3.041136 #> Warning: non-integer x = 1.096049 #> Warning: non-integer x = 4.557915 #> Warning: non-integer x = 1.219065 #> Warning: non-integer x = 2.212033 #> Warning: non-integer x = 0.546436 #> Warning: non-integer x = 0.982338 #> Warning: non-integer x = 1.765667 #> Warning: non-integer x = 0.335833 #> Warning: non-integer x = 0.035220 #> Warning: non-integer x = 0.129806 #> Warning: non-integer x = 1.780831 #> Warning: non-integer x = 0.620160 #> Warning: non-integer x = 1.121712 #> Warning: non-integer x = 0.994837 #> Warning: non-integer x = 0.722416 #> Warning: non-integer x = 0.871324 #> Warning: non-integer x = 2.042384 #> Warning: non-integer x = 1.628334 #> Warning: non-integer x = 3.234717 #> Warning: non-integer x = 1.105599 #> Warning: non-integer x = 0.545209 #> Warning: non-integer x = 1.806404 #> Warning: non-integer x = 1.005476 #> Warning: non-integer x = 2.541061 #> Warning: non-integer x = 0.242856 #> Warning: non-integer x = 1.881070 #> Warning: non-integer x = 2.297701 #> Warning: non-integer x = 0.022009 #> Warning: non-integer x = 0.371664 #> Warning: non-integer x = 2.247009 #> Warning: non-integer x = 1.695631 #> Warning: non-integer x = 0.833746 #> Warning: non-integer x = 0.942880 #> Warning: non-integer x = 2.009552 #> Warning: non-integer x = 1.692380 #> Warning: non-integer x = 0.187420 #> Warning: non-integer x = 1.187244 #> Warning: non-integer x = 1.158997 #> Warning: non-integer x = 0.106272 #> Warning: non-integer x = 1.000775 #> Warning: non-integer x = 0.040605 #> Warning: non-integer x = 0.873697 #> Warning: non-integer x = 3.566889 #> Warning: non-integer x = 1.245664 #> Warning: non-integer x = 0.022107 #> Warning: non-integer x = 0.714279 #> Warning: non-integer x = 0.924813 #> Warning: non-integer x = 0.355359 #> Warning: non-integer x = 0.327769 #> Warning: non-integer x = 2.068934 #> Warning: non-integer x = 2.152933 #> Warning: non-integer x = 2.359257 #> Warning: non-integer x = 0.687897 #> Warning: non-integer x = 0.737922 #> Warning: non-integer x = 0.641984 #> Warning: non-integer x = 2.513746 #> Warning: non-integer x = 0.194606 #> Warning: non-integer x = 0.735758 #> Warning: non-integer x = 1.068786 #> Warning: non-integer x = 2.478733 #> Warning: non-integer x = 2.779832 #> Warning: non-integer x = 2.025496 #> Warning: non-integer x = 1.596470 #> Warning: non-integer x = 1.593473 #> Warning: non-integer x = 1.400946 #> Warning: non-integer x = 2.763246 #> Warning: non-integer x = 1.104044 #> Warning: non-integer x = 0.531352 #> Warning: non-integer x = 1.083590 #> Warning: non-integer x = 2.097538 #> Warning: non-integer x = 2.550511 #> Warning: non-integer x = 2.064918 #> Warning: non-integer x = 2.350270 #> Warning: non-integer x = 1.209870 #> Warning: non-integer x = 1.561182 #> Warning: non-integer x = 0.224339 #> Warning: non-integer x = 0.621237 #> Warning: non-integer x = 0.041844 #> Warning: non-integer x = 2.057544 #> Warning: non-integer x = 2.105946 #> Warning: non-integer x = 5.419621 #> Warning: non-integer x = 0.613647 #> Warning: non-integer x = 0.982654 #> Warning: non-integer x = 0.132952 #> Warning: non-integer x = 3.390031 #> Warning: non-integer x = 2.249082 #> Warning: non-integer x = 0.121236 #> Warning: non-integer x = 0.768459 #> Warning: non-integer x = 0.552996 #> Warning: non-integer x = 2.197158 #> Warning: non-integer x = 0.389910 #> Warning: non-integer x = 1.782909 #> Warning: non-integer x = 1.130850 #> Warning: non-integer x = 0.208696 #> Warning: non-integer x = 1.879849 #> Warning: non-integer x = 1.061829 #> Warning: non-integer x = 2.981935 #> Warning: non-integer x = 0.112895 #> Warning: non-integer x = 0.276054 #> Warning: non-integer x = 0.461625 #> Warning: non-integer x = 1.418066 #> Warning: non-integer x = 2.335000 #> Warning: non-integer x = 0.636566 #> Warning: non-integer x = 0.775204 #> Warning: non-integer x = 1.595814 #> Warning: non-integer x = 3.787323 #> Warning: non-integer x = 1.604918 #> Warning: non-integer x = 2.502658 #> Warning: non-integer x = 0.411077 #> Warning: non-integer x = 1.529769 #> Warning: non-integer x = 2.760107 #> Warning: non-integer x = 1.648151 #> Warning: non-integer x = 1.072123 #> Warning: non-integer x = 0.936606 #> Warning: non-integer x = 1.709868 #> Warning: non-integer x = 3.221467 #> Warning: non-integer x = 0.628952 #> Warning: non-integer x = 0.540224 #> Warning: non-integer x = 1.104237 #> Warning: non-integer x = 1.237571 #> Warning: non-integer x = 3.379860 #> Warning: non-integer x = 2.783149 #> Warning: non-integer x = 0.922066 #> Warning: non-integer x = 1.254711 #> Warning: non-integer x = 2.236330 #> Warning: non-integer x = 2.302737 #> Warning: non-integer x = 0.611972 #> Warning: non-integer x = 1.545367 #> Warning: non-integer x = 3.013720 #> Warning: non-integer x = 3.340279 #> Warning: non-integer x = 0.771766 #> Warning: non-integer x = 0.300477 #> Warning: non-integer x = 0.028984 #> Warning: non-integer x = 3.257702 #> Warning: non-integer x = 0.139954 #> Warning: non-integer x = 0.998798 #> Warning: non-integer x = 1.759124 #> Warning: non-integer x = 1.311243 #> Warning: non-integer x = 0.847060 #> Warning: non-integer x = 2.856804 #> Warning: non-integer x = 1.778279 #> Warning: non-integer x = 0.843557 #> Warning: non-integer x = 2.204666 #> Warning: non-integer x = 1.542416 #> Warning: non-integer x = 3.735130 #> Warning: non-integer x = 2.390096 #> Warning: non-integer x = 0.210086 #> Warning: non-integer x = 2.343145 #> Warning: non-integer x = 3.316654 #> Warning: non-integer x = 1.078759 #> Warning: non-integer x = 1.258058 #> Warning: non-integer x = 0.348955 #> Warning: non-integer x = 1.735436 #> Warning: non-integer x = 1.044042 #> Warning: non-integer x = 1.145560 #> Warning: non-integer x = 2.700642 #> Warning: non-integer x = 0.493360 #> Warning: non-integer x = 0.068797 #> Warning: non-integer x = 0.980919 #> Warning: non-integer x = 0.354744 #> Warning: non-integer x = 2.537138 #> Warning: non-integer x = 0.682589 #> Warning: non-integer x = 0.023230 #> Warning: non-integer x = 1.868301 #> Warning: non-integer x = 2.570437 #> Warning: non-integer x = 0.753302 #> Warning: non-integer x = 1.199218 #> Warning: non-integer x = 2.393968 #> Warning: non-integer x = 2.177657 #> Warning: non-integer x = 2.019127 #> Warning: non-integer x = 1.150734 #> Warning: non-integer x = 0.077946 #> Warning: non-integer x = 0.648289 #> Warning: non-integer x = 0.669635 #> Warning: non-integer x = 0.895714 #> Warning: non-integer x = 2.404010 #> Warning: non-integer x = 0.886056 #> Warning: non-integer x = 0.907458 #> Warning: non-integer x = 0.436971 #> Warning: non-integer x = 0.121128 #> Warning: non-integer x = 0.870904 #> Warning: non-integer x = 3.082177 #> Warning: non-integer x = 0.632006 #> Warning: non-integer x = 0.515760 #> Warning: non-integer x = 0.762327 #> Warning: non-integer x = 0.124290 #> Warning: non-integer x = 1.056961 #> Warning: non-integer x = 0.200669 #> Warning: non-integer x = 2.426039 #> Warning: non-integer x = 2.338450 #> Warning: non-integer x = 0.349574 #> Warning: non-integer x = 1.654968 #> Warning: non-integer x = 0.695555 #> Warning: non-integer x = 0.345348 #> Warning: non-integer x = 1.094006 #> Warning: non-integer x = 1.845598 #> Warning: non-integer x = 2.952405 #> Warning: non-integer x = 1.309676 #> Warning: non-integer x = 0.299359 #> Warning: non-integer x = 1.905475 #> Warning: non-integer x = 0.259562 #> Warning: non-integer x = 1.757606 #> Warning: non-integer x = 2.096863 #> Warning: non-integer x = 0.092091 #> Warning: non-integer x = 0.868524 #> Warning: non-integer x = 0.688834 #> Warning: non-integer x = 0.509115 #> Warning: non-integer x = 1.145511 #> Warning: non-integer x = 0.641868 #> Warning: non-integer x = 0.588055 #> Warning: non-integer x = 2.310425 #> Warning: non-integer x = 1.496815 #> Warning: non-integer x = 1.647379 #> Warning: non-integer x = 0.455689 #> Warning: non-integer x = 3.258638 #> Warning: non-integer x = 1.015282 #> Warning: non-integer x = 0.897098 #> Warning: non-integer x = 1.726756 #> Warning: non-integer x = 0.327566 #> Warning: non-integer x = 1.044553 #> Warning: non-integer x = 2.309919 #> Warning: non-integer x = 0.092297 #> Warning: non-integer x = 2.291330 #> Warning: non-integer x = 1.525829 #> Warning: non-integer x = 4.014748 #> Warning: non-integer x = 1.253764 #> Warning: non-integer x = 0.871730 #> Warning: non-integer x = 2.012943 #> Warning: non-integer x = 0.641051 #> Warning: non-integer x = 1.930948 #> Warning: non-integer x = 0.039382 #> Warning: non-integer x = 1.593252 #> Warning: non-integer x = 0.911335 #> Warning: non-integer x = 0.490971 #> Warning: non-integer x = 0.632203 #> Warning: non-integer x = 3.105344 #> Warning: non-integer x = 2.584626 #> Warning: non-integer x = 1.265790 #> Warning: non-integer x = 0.029568 #> Warning: non-integer x = 0.209247 #> Warning: non-integer x = 2.181798 #> Warning: non-integer x = 0.967470 #> Warning: non-integer x = 0.070559 #> Warning: non-integer x = 3.459624 #> Warning: non-integer x = 0.971967 #> Warning: non-integer x = 0.053702 #> Warning: non-integer x = 2.860963 #> Warning: non-integer x = 0.567361 #> Warning: non-integer x = 0.090476 #> Warning: non-integer x = 0.915675 #> Warning: non-integer x = 1.280881 #> Warning: non-integer x = 0.822601 #> Warning: non-integer x = 3.208953 #> Warning: non-integer x = 2.075421 #> Warning: non-integer x = 0.280640 #> Warning: non-integer x = 1.341315 #> Warning: non-integer x = 2.700691 #> Warning: non-integer x = 0.005814 #> Warning: non-integer x = 0.296816 #> Warning: non-integer x = 0.144097 #> Warning: non-integer x = 0.835942 #> Warning: non-integer x = 1.223834 #> Warning: non-integer x = 0.087645 #> Warning: non-integer x = 0.485701 #> Warning: non-integer x = 0.556330 #> Warning: non-integer x = 1.057356 #> Warning: non-integer x = 1.321310 #> Warning: non-integer x = 1.044956 #> Warning: non-integer x = 2.261254 #> Warning: non-integer x = 3.073290"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_sipw.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Individual Treatment Effect using Stabilized Inverse Propensity\nWeighting — estimate_ite_sipw","title":"Estimate the Individual Treatment Effect using Stabilized Inverse Propensity\nWeighting — estimate_ite_sipw","text":"Estimates Individual Treatment Effect using Stabilized Inverse Propensity Weighting given response vector, treatment vector, features matrix.","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_sipw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Individual Treatment Effect using Stabilized Inverse Propensity\nWeighting — estimate_ite_sipw","text":"","code":"estimate_ite_sipw(y, z, X, ps_method)"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_sipw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Individual Treatment Effect using Stabilized Inverse Propensity\nWeighting — estimate_ite_sipw","text":"y observed response vector z treatment vector X features matrix ps_method estimation method propensity score","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_sipw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Individual Treatment Effect using Stabilized Inverse Propensity\nWeighting — estimate_ite_sipw","text":"vector ITE estimates","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_sipw.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Individual Treatment Effect using Stabilized Inverse Propensity\nWeighting — estimate_ite_sipw","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) ps_method <- \"SL.xgboost\"  ite_list <- estimate_ite_sipw(y, z, X, ps_method)"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_xbart.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Individual Treatment Effect using Accelerated Bayesian Additive Regression Trees — estimate_ite_xbart","title":"Estimate the Individual Treatment Effect using Accelerated Bayesian Additive Regression Trees — estimate_ite_xbart","text":"Method estimating Individual Treatment Effect using Accelerated Bayesian Additive Regression Trees given response vector, treatment vector, features matrix","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_xbart.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Individual Treatment Effect using Accelerated Bayesian Additive Regression Trees — estimate_ite_xbart","text":"","code":"estimate_ite_xbart(y, z, X, include_ps, ps_method)"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_xbart.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Individual Treatment Effect using Accelerated Bayesian Additive Regression Trees — estimate_ite_xbart","text":"y observed response vector z treatment vector X features matrix include_ps whether include propensity score estimate covariate ITE estimation ps_method estimation method propensity score","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_xbart.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Individual Treatment Effect using Accelerated Bayesian Additive Regression Trees — estimate_ite_xbart","text":"list ITE estimates standard deviations ITE estimates","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_xbart.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Individual Treatment Effect using Accelerated Bayesian Additive Regression Trees — estimate_ite_xbart","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) include_ps <- TRUE ps_method <- \"SL.xgboost\"  if (requireNamespace(\"XBART\", quietly = TRUE)) {     ite_list <- estimate_ite_xbart(y, z, X, include_ps, ps_method) }"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_xbcf.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Individual Treatment Effect using Accelerated Bayesian Causal Forest — estimate_ite_xbcf","title":"Estimate the Individual Treatment Effect using Accelerated Bayesian Causal Forest — estimate_ite_xbcf","text":"Method estimating Individual Treatment Effect using Accelerated Bayesian Causal Forest given response vector, treatment vector, features matrix","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_xbcf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Individual Treatment Effect using Accelerated Bayesian Causal Forest — estimate_ite_xbcf","text":"","code":"estimate_ite_xbcf(y, z, X, ps_method)"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_xbcf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Individual Treatment Effect using Accelerated Bayesian Causal Forest — estimate_ite_xbcf","text":"y observed response vector z treatment vector X features matrix ps_method estimation method propensity score","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_xbcf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Individual Treatment Effect using Accelerated Bayesian Causal Forest — estimate_ite_xbcf","text":"list ITE estimates standard deviations ITE estimates","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ite_xbcf.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Individual Treatment Effect using Accelerated Bayesian Causal Forest — estimate_ite_xbcf","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) ps_method <- \"SL.xgboost\"  if (requireNamespace(\"XBCF\", quietly = TRUE)) {     ite_list <- estimate_ite_xbcf(y, z, X, ps_method) }"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ps.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Propensity Score — estimate_ps","title":"Estimate the Propensity Score — estimate_ps","text":"Method estimating Propensity Score given treatment vector features matrix","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Propensity Score — estimate_ps","text":"","code":"estimate_ps(z, X, ps_method = \"SL.xgboost\")"},{"path":"https://github.com/fasrc/CRE/reference/estimate_ps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Propensity Score — estimate_ps","text":"z treatment vector X features matrix ps_method estimation model propensity score","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ps.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Propensity Score — estimate_ps","text":"list propensity score estimates","code":""},{"path":"https://github.com/fasrc/CRE/reference/estimate_ps.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate the Propensity Score — estimate_ps","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) ps_method <- \"SL.xgboost\"  est_ps <- estimate_ps(z, X, ps_method)"},{"path":"https://github.com/fasrc/CRE/reference/extract_rules.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Rules — extract_rules","title":"Extract Rules — extract_rules","text":"Method extracting causal rules Random Forest Gradient Boosting algorithms","code":""},{"path":"https://github.com/fasrc/CRE/reference/extract_rules.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Rules — extract_rules","text":"","code":"extract_rules(treelist, X, ntrees, ite_std, take_1, type_decay)"},{"path":"https://github.com/fasrc/CRE/reference/extract_rules.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Rules — extract_rules","text":"treelist list decision trees X features matrix ntrees number decision trees ite_std standardized ITE take_1 whether call take1 helper function type_decay type decay apply pruning rules","code":""},{"path":"https://github.com/fasrc/CRE/reference/extract_rules.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Rules — extract_rules","text":"vector causal rules","code":""},{"path":"https://github.com/fasrc/CRE/reference/extract_rules.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Rules — extract_rules","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE) y <- as.matrix(dataset[[\"y\"]]) z <- as.matrix(dataset[[\"z\"]]) X <- as.matrix(dataset[[\"X\"]]) ite_method <- \"bart\" include_ps <- TRUE ps_method <- \"SL.xgboost\" or_method <- NA ntrees <- 100 min_nodes <- 20 max_nodes <- 5 binary <- FALSE  # Estimate ITE ite_list <- estimate_ite(y, z, X, ite_method, include_ps, ps_method, or_method, binary) #> fitting treatment model via method 'bart' #> fitting response model via method 'bart' ite <- ite_list[[\"ite\"]] ite_std <- ite_list[[\"ite_std\"]]  # Set parameters N <- dim(X)[1] sf <- min(1, (11 * sqrt(N) + 1) / N) mn <- 2 + floor(stats::rexp(1, 1 / (max_nodes - 2))) # Random Forest forest <- suppressWarnings(randomForest::randomForest(x = X, y = ite_std,                                                       sampsize = sf * N,                                                    replace = FALSE,                                                    ntree = 1, maxnodes = mn,                                                    nodesize = min_nodes)) for(i in 2:ntrees) {   mn <- 2 + floor(stats::rexp(1, 1 / (max_nodes - 2)))   model1_RF <- suppressWarnings(randomForest::randomForest(x = X, y = ite_std,                                                            sampsize = sf * N,                                                            replace = FALSE,                                                            ntree = 1, maxnodes = mn,                                                            nodesize = min_nodes))   forest <- randomForest::combine(forest, model1_RF) } treelist <- CRE:::RF2List(forest) take_1 <- FALSE type_decay <- 2  rules_RF <- extract_rules(treelist, X, ntrees, ite_std, take_1, type_decay) #> 452 rules (length<=15) were extracted from the first 100 trees."},{"path":"https://github.com/fasrc/CRE/reference/generate_cre_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate CRE Synthetic Data — generate_cre_dataset","title":"Generate CRE Synthetic Data — generate_cre_dataset","text":"Generates synthetic data continues binary outcome","code":""},{"path":"https://github.com/fasrc/CRE/reference/generate_cre_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate CRE Synthetic Data — generate_cre_dataset","text":"","code":"generate_cre_dataset(   n = 1000,   rho = 0,   n_rules = 2,   p = 10,   effect_size = 2,   binary = FALSE )"},{"path":"https://github.com/fasrc/CRE/reference/generate_cre_dataset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate CRE Synthetic Data — generate_cre_dataset","text":"n integer number represents number observations. Non-integer values converted integer number. rho positive double number (0,1) represents correlation within covariates (default: 0). n_rules number causal rules, either 2 (default) 4. p number covariates (default: 10). effect_size effect size magnitude (default: 0.5). TODO: range effect size magnitude? binary Whether use binary continuous outcomes, either TRUE (default) FALSE.","code":""},{"path":"https://github.com/fasrc/CRE/reference/generate_cre_dataset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate CRE Synthetic Data — generate_cre_dataset","text":"list synthetic data containing outcome vector (y), treatment vector (z), matrix p covariates (X).","code":""},{"path":"https://github.com/fasrc/CRE/reference/generate_cre_dataset.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate CRE Synthetic Data — generate_cre_dataset","text":"","code":"set.seed(123) dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)"},{"path":"https://github.com/fasrc/CRE/reference/generate_rules.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Rules — generate_rules","title":"Generate Rules — generate_rules","text":"Method generating causal rules.","code":""},{"path":"https://github.com/fasrc/CRE/reference/generate_rules.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Rules — generate_rules","text":"","code":"generate_rules(X, ite_std, ntrees_rf, ntrees_gbm, min_nodes, max_nodes)"},{"path":"https://github.com/fasrc/CRE/reference/generate_rules.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Rules — generate_rules","text":"X features matrix ite_std standardized ITE ntrees_rf number decision trees randomForest ntrees_gbm number decision trees gradient boosting min_nodes minimum size trees' terminal nodes max_nodes maximum size trees' terminal nodes","code":""},{"path":"https://github.com/fasrc/CRE/reference/generate_rules.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Rules — generate_rules","text":"vector causal rules","code":""},{"path":"https://github.com/fasrc/CRE/reference/generate_rules.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Rules — generate_rules","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) X_names <- names(as.data.frame(X)) ratio_dis <- 0.25 ite_method_dis <- \"bart\" include_ps_dis <- TRUE ps_method_dis <- \"SL.xgboost\" or_method_dis <- NA ntrees_rf <- 100 ntrees_gbm <- 50 min_nodes <- 20 max_nodes <- 5 include_offset <- FALSE offset_name <- NA binary <- FALSE  # Split data X <- as.matrix(X) y <- as.matrix(y) z <- as.matrix(z) subgroups <- split_data(y, z, X, ratio_dis) discovery <- subgroups[[1]] inference <- subgroups[[2]]  # Generate y, z, and X for discovery and inference data y_dis <- discovery[,1] z_dis <- discovery[,2] X_dis <- discovery[,3:ncol(discovery)]  # Estimate ITE on Discovery Subsample ite_list_dis <- estimate_ite(y_dis, z_dis, X_dis, ite_method_dis, include_ps_dis,                              ps_method_dis, or_method_dis, binary, X_names,                              include_offset, offset_name) #> fitting treatment model via method 'bart' #> fitting response model via method 'bart' ite_dis <- ite_list_dis[[\"ite\"]] ite_std_dis <- ite_list_dis[[\"ite_std\"]]  # Generate rules list initial_rules_dis <- generate_rules(X_dis, ite_std_dis, ntrees_rf, ntrees_gbm,                                     min_nodes, max_nodes) #> 437 rules (length<=15) were extracted from the first 100 trees. #> 100 rules (length<=15) were extracted from the first 50 trees."},{"path":"https://github.com/fasrc/CRE/reference/generate_rules_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Rules Matrix — generate_rules_matrix","title":"Generate Rules Matrix — generate_rules_matrix","text":"Generates matrix causal rules given list.","code":""},{"path":"https://github.com/fasrc/CRE/reference/generate_rules_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Rules Matrix — generate_rules_matrix","text":"","code":"generate_rules_matrix(X, rules_list, t)"},{"path":"https://github.com/fasrc/CRE/reference/generate_rules_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Rules Matrix — generate_rules_matrix","text":"X features matrix rules_list vector causal rules t common support used generating causal rules matrix","code":""},{"path":"https://github.com/fasrc/CRE/reference/generate_rules_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Rules Matrix — generate_rules_matrix","text":"list : raw matrix causal rules standardized matrix causal rules, vector causal rules","code":""},{"path":"https://github.com/fasrc/CRE/reference/generate_rules_matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Rules Matrix — generate_rules_matrix","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) X_names <- names(as.data.frame(X)) ratio_dis <- 0.25 ite_method_dis <- \"bart\" include_ps_dis <- TRUE ps_method_dis <- \"SL.xgboost\" or_method_dis <- NA ntrees_rf <- 100 ntrees_gbm <- 50 min_nodes <- 20 max_nodes <- 5 t <- 0.025 include_offset <- FALSE offset_name <- NA binary <- FALSE  # Split data X <- as.matrix(X) y <- as.matrix(y) z <- as.matrix(z) subgroups <- split_data(y, z, X, ratio_dis) discovery <- subgroups[[1]] inference <- subgroups[[2]]  # Generate y, z, and X for discovery and inference data y_dis <- discovery[,1] z_dis <- discovery[,2] X_dis <- discovery[,3:ncol(discovery)]  # Estimate ITE on Discovery Subsample ite_list_dis <- estimate_ite(y_dis, z_dis, X_dis, ite_method_dis, include_ps_dis,                              ps_method_dis, or_method_dis, binary, X_names,                              include_offset, offset_name) #> fitting treatment model via method 'bart' #> fitting response model via method 'bart' ite_dis <- ite_list_dis[[\"ite\"]] ite_std_dis <- ite_list_dis[[\"ite_std\"]]  # Generate rules list initial_rules_dis <- generate_rules(X_dis, ite_std_dis, ntrees_rf, ntrees_gbm,                                     min_nodes, max_nodes) #> 449 rules (length<=15) were extracted from the first 100 trees. #> 300 rules (length<=15) were extracted from the first 50 trees.  # Generate rules matrix rules_all_dis <- generate_rules_matrix(X_dis, initial_rules_dis, t)"},{"path":"https://github.com/fasrc/CRE/reference/get_logger.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Logger Settings — get_logger","title":"Get Logger Settings — get_logger","text":"Returns current logger settings.","code":""},{"path":"https://github.com/fasrc/CRE/reference/get_logger.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Logger Settings — get_logger","text":"","code":"get_logger()"},{"path":"https://github.com/fasrc/CRE/reference/get_logger.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Logger Settings — get_logger","text":"Returns list includes logger_file_path logger_level.","code":""},{"path":"https://github.com/fasrc/CRE/reference/get_logger.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Logger Settings — get_logger","text":"","code":"set_logger(\"mylogger.log\", \"INFO\") log_meta <- get_logger()"},{"path":"https://github.com/fasrc/CRE/reference/interpret_select_rules.html","id":null,"dir":"Reference","previous_headings":"","what":"Interpret Select Rules — interpret_select_rules","title":"Interpret Select Rules — interpret_select_rules","text":"Replace column numbers Select Rules vector real names","code":""},{"path":"https://github.com/fasrc/CRE/reference/interpret_select_rules.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Interpret Select Rules — interpret_select_rules","text":"","code":"interpret_select_rules(select_rules_dis, X_names)"},{"path":"https://github.com/fasrc/CRE/reference/interpret_select_rules.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Interpret Select Rules — interpret_select_rules","text":"select_rules_dis vector select causal rules X_names real names covariates","code":""},{"path":"https://github.com/fasrc/CRE/reference/interpret_select_rules.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Interpret Select Rules — interpret_select_rules","text":"vector select causal rules interpretable","code":""},{"path":"https://github.com/fasrc/CRE/reference/interpret_select_rules.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Interpret Select Rules — interpret_select_rules","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) X_names <- names(as.data.frame(X)) ratio_dis <- 0.25 ite_method_dis <- \"bart\" include_ps_dis <- TRUE ps_method_dis <- \"SL.xgboost\" or_method_dis <- NA ntrees_rf <- 100 ntrees_gbm <- 50 min_nodes <- 20 max_nodes <- 5 t <- 0.025 q <- 0.8 rules_method <- NA include_offset <- FALSE offset_name <- NA binary <- FALSE  # Split data X <- as.matrix(X) y <- as.matrix(y) z <- as.matrix(z) subgroups <- split_data(y, z, X, ratio_dis) discovery <- subgroups[[1]] inference <- subgroups[[2]]  # Generate y, z, and X for discovery and inference data y_dis <- discovery[,1] z_dis <- discovery[,2] X_dis <- discovery[,3:ncol(discovery)]  y_inf <- inference[,1] z_inf <- inference[,2] X_inf <- inference[,3:ncol(inference)]  # Estimate ITE on Discovery Subsample ite_list_dis <- estimate_ite(y_dis, z_dis, X_dis, ite_method_dis, include_ps_dis,                              ps_method_dis, or_method_dis, binary, X_names,                              include_offset, offset_name) #> fitting treatment model via method 'bart' #> fitting response model via method 'bart' ite_dis <- ite_list_dis[[\"ite\"]] ite_std_dis <- ite_list_dis[[\"ite_std\"]]  # Generate rules list initial_rules_dis <- generate_rules(X_dis, ite_std_dis, ntrees_rf, ntrees_gbm,                                     min_nodes, max_nodes) #> 414 rules (length<=15) were extracted from the first 100 trees. #> 100 rules (length<=15) were extracted from the first 50 trees.  # Generate rules matrix rules_all_dis <- generate_rules_matrix(X_dis, initial_rules_dis, t) rules_matrix_dis <- rules_all_dis[[\"rules_matrix\"]] rules_matrix_std_dis <- rules_all_dis[[\"rules_matrix_std\"]] rules_list_dis <- rules_all_dis[[\"rules_list\"]]  # Select important rules select_rules_dis <- as.character(select_causal_rules(rules_matrix_std_dis, rules_list_dis,                                                      ite_std_dis, binary, q, rules_method)) select_rules_matrix_dis <- rules_matrix_dis[,which(rules_list_dis %in% select_rules_dis)] select_rules_matrix_std_dis <- rules_matrix_std_dis[,which(rules_list_dis %in% select_rules_dis)] if (length(select_rules_dis) == 0) stop(\"No significant rules were discovered. Ending Analysis.\")  # Estimate CATE rules_matrix_inf <- matrix(0, nrow = dim(X_inf)[1], ncol = length(select_rules_dis)) for (i in 1:length(select_rules_dis)) {   rules_matrix_inf[eval(parse(text = select_rules_dis[i]), list(X = X_inf)), i] <- 1 } select_rules_interpretable <- interpret_select_rules(select_rules_dis, X_names)"},{"path":"https://github.com/fasrc/CRE/reference/plot.cre.html","id":null,"dir":"Reference","previous_headings":"","what":"Extend generic plot functions for cre class — plot.cre","title":"Extend generic plot functions for cre class — plot.cre","text":"wrapper function extend generic plot functions cre class.","code":""},{"path":"https://github.com/fasrc/CRE/reference/plot.cre.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extend generic plot functions for cre class — plot.cre","text":"","code":"# S3 method for cre plot(x, ...)"},{"path":"https://github.com/fasrc/CRE/reference/plot.cre.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extend generic plot functions for cre class — plot.cre","text":"x cre object. ... Additional arguments passed customize plot.","code":""},{"path":"https://github.com/fasrc/CRE/reference/plot.cre.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extend generic plot functions for cre class — plot.cre","text":"Returns ggplot2 object, invisibly. function called side effects.","code":""},{"path":"https://github.com/fasrc/CRE/reference/select_causal_rules.html","id":null,"dir":"Reference","previous_headings":"","what":"Select Causal Rules — select_causal_rules","title":"Select Causal Rules — select_causal_rules","text":"Selects causal rules important.","code":""},{"path":"https://github.com/fasrc/CRE/reference/select_causal_rules.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Select Causal Rules — select_causal_rules","text":"","code":"select_causal_rules(   rules_matrix_std,   rules_list,   ite_std,   binary,   q,   rules_method )"},{"path":"https://github.com/fasrc/CRE/reference/select_causal_rules.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Select Causal Rules — select_causal_rules","text":"rules_matrix_std standardized causal rules matrix rules_list vector causal rules ite_std standardized ITE binary whether outcome binary q selection threshold used selecting causal rules rules_method method selecting causal rules binary outcomes, either \"conservative\", \"anticonservative\", NA","code":""},{"path":"https://github.com/fasrc/CRE/reference/select_causal_rules.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Select Causal Rules — select_causal_rules","text":"vector causal rules","code":""},{"path":"https://github.com/fasrc/CRE/reference/select_causal_rules.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Select Causal Rules — select_causal_rules","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) X_names <- names(as.data.frame(X)) ratio_dis <- 0.25 ite_method_dis <- \"bart\" include_ps_dis <- TRUE ps_method_dis <- \"SL.xgboost\" or_method_dis <- NA ntrees_rf <- 100 ntrees_gbm <- 50 min_nodes <- 20 max_nodes <- 5 t <- 0.025 q <- 0.8 rules_method <- NA include_offset <- FALSE offset_name <- NA binary <- FALSE  # Split data X <- as.matrix(X) y <- as.matrix(y) z <- as.matrix(z) subgroups <- split_data(y, z, X, ratio_dis) discovery <- subgroups[[1]] inference <- subgroups[[2]]  # Generate y, z, and X for discovery and inference data y_dis <- discovery[,1] z_dis <- discovery[,2] X_dis <- discovery[,3:ncol(discovery)]  # Estimate ITE on Discovery Subsample ite_list_dis <- estimate_ite(y_dis, z_dis, X_dis, ite_method_dis, include_ps_dis,                              ps_method_dis, or_method_dis, binary, X_names,                              include_offset, offset_name) #> fitting treatment model via method 'bart' #> fitting response model via method 'bart' ite_dis <- ite_list_dis[[\"ite\"]] ite_std_dis <- ite_list_dis[[\"ite_std\"]]  # Generate rules list initial_rules_dis <- generate_rules(X_dis, ite_std_dis, ntrees_rf, ntrees_gbm,                                     min_nodes, max_nodes) #> 412 rules (length<=15) were extracted from the first 100 trees. #> 100 rules (length<=15) were extracted from the first 50 trees.  # Generate rules matrix rules_all_dis <- generate_rules_matrix(X_dis, initial_rules_dis, t) rules_matrix_dis <- rules_all_dis[[\"rules_matrix\"]] rules_matrix_std_dis <- rules_all_dis[[\"rules_matrix_std\"]] rules_list_dis <- rules_all_dis[[\"rules_list\"]]  # Select important rules select_rules_dis <- as.character(select_causal_rules(rules_matrix_std_dis, rules_list_dis,                                                      ite_std_dis, binary, q, rules_method))"},{"path":"https://github.com/fasrc/CRE/reference/set_logger.html","id":null,"dir":"Reference","previous_headings":"","what":"Set Logger Settings — set_logger","title":"Set Logger Settings — set_logger","text":"Updates logger settings, including log level location file.","code":""},{"path":"https://github.com/fasrc/CRE/reference/set_logger.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set Logger Settings — set_logger","text":"","code":"set_logger(logger_file_path = \"CRE.log\", logger_level = \"INFO\")"},{"path":"https://github.com/fasrc/CRE/reference/set_logger.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set Logger Settings — set_logger","text":"logger_file_path path (including file name) log messages. (Default: CRE.log) logger_level log level. Available levels include: TRACE DEBUG INFO (Default) SUCESS WARN ERROR FATAL","code":""},{"path":"https://github.com/fasrc/CRE/reference/set_logger.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set Logger Settings — set_logger","text":"return value. function called side effects.","code":""},{"path":"https://github.com/fasrc/CRE/reference/set_logger.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set Logger Settings — set_logger","text":"","code":"set_logger(\"Debug\")"},{"path":"https://github.com/fasrc/CRE/reference/split_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Split Data — split_data","title":"Split Data — split_data","text":"Splits data discovery inference subsamples.","code":""},{"path":"https://github.com/fasrc/CRE/reference/split_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split Data — split_data","text":"","code":"split_data(y, z, X, ratio_dis)"},{"path":"https://github.com/fasrc/CRE/reference/split_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split Data — split_data","text":"y observed response vector z treatment vector X features matrix ratio_dis ratio data delegated discovery subsample","code":""},{"path":"https://github.com/fasrc/CRE/reference/split_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split Data — split_data","text":"list containing discovery inference subsamples","code":""},{"path":"https://github.com/fasrc/CRE/reference/split_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split Data — split_data","text":"","code":"dataset <- generate_cre_dataset(n = 1000, rho = 0, n_rules = 2, p = 10,                                 effect_size = 2, binary = FALSE)  # Initialize parameters y <- dataset[[\"y\"]] z <- dataset[[\"z\"]] X <- as.data.frame(dataset[[\"X\"]]) ratio_dis <- 0.25  # Split data X <- as.matrix(X) y <- as.matrix(y) z <- as.matrix(z) subgroups <- split_data(y, z, X, ratio_dis) discovery <- subgroups[[1]] inference <- subgroups[[2]]"},{"path":"https://github.com/fasrc/CRE/reference/take1.html","id":null,"dir":"Reference","previous_headings":"","what":"Take 1 — take1","title":"Take 1 — take1","text":"Generate list indices","code":""},{"path":"https://github.com/fasrc/CRE/reference/take1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Take 1 — take1","text":"","code":"take1(len)"},{"path":"https://github.com/fasrc/CRE/reference/take1.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Take 1 — take1","text":"len length value","code":""},{"path":"https://github.com/fasrc/CRE/reference/take1.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Take 1 — take1","text":"vector indices","code":""},{"path":"https://github.com/fasrc/CRE/reference/take1.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Take 1 — take1","text":"","code":"ind <- take1(10)"},{"path":[]},{"path":"https://github.com/fasrc/CRE/news/index.html","id":"changed-0-0-1","dir":"Changelog","previous_headings":"","what":"Changed","title":"CRE 0.0.1 (2021-10-20)","text":"estimate_cate include two methods estimating CATE values cre added initial checks binary outcome whether include propensity score ITE estimation estimate_ite_xyz conduct propensity score estimation using helper function Removed seed input generate_cre_dataset function.","code":""},{"path":"https://github.com/fasrc/CRE/news/index.html","id":"added-0-0-1","dir":"Changelog","previous_headings":"","what":"Added","title":"CRE 0.0.1 (2021-10-20)","text":"set_logger get_logger check_input_data function example generate_cre_dataset generate_cre_dataset function generate synthetic data testing package test-generate_cre_dataset function test estimate_ps function estimate propensity score estimate_ite_xbart function generate ITE estimates using accelerated BART estimate_ite_xbcf function generate ITE estimates using accelerated BCF analyze_sensitivity function conduct sensitivity analysis unmeasured confounding cre function perform entire Causal Rule Ensemble method estimate_cate function generate CATE estimates ITE estimates select rules estimate_ite function generate ITE estimates using user-specified method (calls estimate_ite_xyz functions) estimate_ite_bart function generate ITE estimates using BART estimate_ite_bcf function generate ITE estimates using Bayesian Causal Forests estimate_ite_cf function generate ITE estimates using Causal Forests estimate_ite_ipw function generate ITE estimates using IPW estimate_ite_or function generate ITE estimates using Outcome Regression estimate_ite_sipw function generate ITE estimates using SIPW extract_rules function extract list causal rules randomForest GBM models generate_rules function generate causal rule models using randomForest GBM methods generate_rules_matrix function convert list causal rules matrix select_causal_rules function apply penalized regression causal rules select important ones split_data function split input data discovery inference subsamples take1 function create subsample indices","code":""}]
